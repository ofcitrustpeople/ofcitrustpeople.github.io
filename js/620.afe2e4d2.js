"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[620],{9620:function(a,e,t){t.r(e),t.d(e,{default:function(){return sa}});var l=t(3396),s=t(7139),o=t(9242);const r=a=>((0,l.dD)("data-v-2314ddac"),a=a(),(0,l.Cn)(),a),d={class:"list"},n={key:0},c=(0,l.uE)('<div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div><div class="form-group" data-v-2314ddac><label class="form-control skeleton-text skeleton-animate" data-v-2314ddac></label><input type="text" class="form-control skeleton skeleton-animate" data-v-2314ddac></div>',19),i=[c],m={key:1,class:"col-md-12"},u={class:"form-group"},v=r((()=>(0,l._)("label",{for:"last_name"},"Фамилия",-1))),p={class:"form-group"},f=r((()=>(0,l._)("label",{for:"first_name"},"Имя",-1))),_={class:"form-group"},k=r((()=>(0,l._)("label",{for:"patronymic"},"Отчество",-1))),b={class:"form-group"},g=r((()=>(0,l._)("label",{for:"gender"},"Пол",-1))),y=r((()=>(0,l._)("br",null,null,-1))),x=r((()=>(0,l._)("br",null,null,-1))),h={class:"form-group"},W=r((()=>(0,l._)("label",{for:"date_of_birth"},"Дата рождения",-1))),C={class:"form-group"},w=r((()=>(0,l._)("label",{for:"passport_series_and_number"},"Серия и номер паспорта",-1))),S={class:"form-group"},N=r((()=>(0,l._)("label",{for:"INN"},"ИНН",-1))),I={class:"form-group"},V=r((()=>(0,l._)("label",{for:"SNILS"},"СНИЛС",-1))),D={class:"form-group"},L=r((()=>(0,l._)("label",{for:"place_of_birth"},"Страна рождения",-1))),E={class:"form-group"},U=r((()=>(0,l._)("label",{for:"email"},"Email",-1))),Z={class:"form-group"},F=r((()=>(0,l._)("label",{for:"student_login"},"Логин студента",-1))),q={class:"form-group"},A=r((()=>(0,l._)("label",{for:"enrollment_order"},"Приказ о зачислении",-1))),G={class:"form-group"},j=r((()=>(0,l._)("label",{for:"enrolled_date"},"Дата зачисления",-1))),z={class:"form-group"},M=r((()=>(0,l._)("label",{for:"course"},"Курс",-1))),B={class:"form-group"},H=r((()=>(0,l._)("label",{for:"group_id"},"Группа",-1))),K=["value"],R={class:"form-group"},T=r((()=>(0,l._)("label",{for:"subgroup"},"Подгруппа",-1))),Y={class:"form-group mt-3"},J=["disabled"],O={class:"spinner-border spinner-border-sm"};function P(a,e,t,r,c,P){const Q=(0,l.up)("Field"),X=(0,l.up)("ErrorMessage"),$=(0,l.up)("Select2"),aa=(0,l.up)("router-link"),ea=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",d,[c.dataLoading?((0,l.wg)(),(0,l.iD)("div",n,i)):((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(ea,{onSubmit:P.addStudent,"validation-schema":c.schema},{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",null,[(0,l._)("div",u,[v,(0,l.Wm)(Q,{name:"last_name",type:"text",value:"",class:(0,s.C_)(["form-control",{"is-invalid":a.last_name}])},null,8,["class"]),(0,l.Wm)(X,{name:"last_name",class:"error-feedback"})]),(0,l._)("div",p,[f,(0,l.Wm)(Q,{name:"first_name",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.first_name}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"first_name",class:"error-feedback"})]),(0,l._)("div",_,[k,(0,l.Wm)(Q,{name:"patronymic",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.patronymic}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"patronymic",class:"error-feedback"})]),(0,l._)("div",b,[g,y,(0,l.Wm)(Q,{name:"gender",type:"radio",value:"m",class:(0,s.C_)(["form-check-input",{"is-invalid":a.gender}])},null,8,["class"]),(0,l.Uk)(" Мужской "),(0,l.Wm)(Q,{name:"gender",type:"radio",value:"f",class:(0,s.C_)(["form-check-input",{"is-invalid":a.gender}])},null,8,["class"]),(0,l.Uk)(" Женский "),x,(0,l.Wm)(X,{name:"gender",class:"error-feedback"})]),(0,l._)("div",h,[W,(0,l.Wm)(Q,{name:"date_of_birth",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":a.date}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"date_of_birth",class:"error-feedback"})]),(0,l._)("div",C,[w,(0,l.Wm)(Q,{name:"passport_series_and_number",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.passport_series_and_number}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"passport_series_and_number",class:"error-feedback"})]),(0,l._)("div",S,[N,(0,l.Wm)(Q,{name:"INN",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.INN}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"INN",class:"error-feedback"})]),(0,l._)("div",I,[V,(0,l.Wm)(Q,{name:"SNILS",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.SNILS}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"SNILS",class:"error-feedback"})]),(0,l._)("div",D,[L,(0,l.Wm)(Q,{name:"place_of_birth",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.place_of_birth}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"place_of_birth",class:"error-feedback"})]),(0,l._)("div",E,[U,(0,l.Wm)(Q,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.email}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"email",class:"error-feedback"})]),(0,l._)("div",Z,[F,(0,l.Wm)(Q,{name:"student_login",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.student_login}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"student_login",class:"error-feedback"})]),(0,l._)("div",q,[A,(0,l.Wm)(Q,{name:"enrollment_order",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.enrollment_order}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"enrollment_order",class:"error-feedback"})]),(0,l._)("div",G,[j,(0,l.Wm)(Q,{name:"enrolled_date",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":a.enrolled_date}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"enrolled_date",class:"error-feedback"})]),(0,l._)("div",z,[M,(0,l.Wm)(Q,{name:"course",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.course}]),value:""},null,8,["class"]),(0,l.Wm)(X,{name:"course",class:"error-feedback"})]),(0,l._)("div",B,[H,(0,l.Wm)($,{class:(0,s.C_)({"form-control is-invalid":a.group_id}),modelValue:c.myValue,"onUpdate:modelValue":e[0]||(e[0]=a=>c.myValue=a),options:c.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(Q,{name:"group_id",as:"select",modelValue:c.myValue,"onUpdate:modelValue":e[1]||(e[1]=a=>c.myValue=a),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.groups,(a=>((0,l.wg)(),(0,l.iD)("option",{key:a.id,value:a.id},(0,s.zw)(a.text),9,K)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(X,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",R,[T,(0,l.Wm)(Q,{name:"subgroup",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.subgroup}])},null,8,["class"]),(0,l.Wm)(X,{name:"subgroup",class:"error-feedback"})]),(0,l._)("div",Y,[(0,l._)("button",{class:"btn btn-primary btn-block",disabled:c.loading},[(0,l.wy)((0,l._)("span",O,null,512),[[o.F8,c.loading]]),(0,l.Uk)(" Добавить студента ")],8,J),(0,l.Wm)(aa,{to:"/students",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),c.message?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)(["alert",c.successful?"alert-success":"alert-danger"])},(0,s.zw)(c.message),3)):(0,l.kq)("",!0)]))])}var Q=t(5708),X=t(7629),$=t(5124),aa=t(4677),ea={setup(){const a=(0,aa.pm)();return{toast:a}},name:"AddStudent",components:{Form:Q.l0,Field:Q.gN,ErrorMessage:Q.Bc},data(){const a=X.Ry().shape({email:X.Z_().required("Требуется электронная почта").email("Некорреткная электронка").max(50,"не больше 50 "),group_id:X.Z_().required("Группа требуется!"),gender:X.Z_().required("Надо пол")});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:a,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addStudent(a){try{this.loading=!0;const e=await $.Z.addStudent(a.last_name,a.first_name,a.patronymic,a.gender,a.date_of_birth,a.passport_series_and_number,a.INN,a.SNILS,a.place_of_birth,a.email,a.student_login,a.enrollment_order,a.enrolled_date,a.course,a.group_id,a.subgroup);e.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили студента!")}catch(e){this.message="Ошибка",this.toast.error("Ошибка добавления студента"),console.error("Error updating student details:",e)}},async loadGroupsData(){try{const a=await $.Z.getGroupsAsIdText();this.groups=Array.isArray(a.data)?a.data:[a.data],this.dataLoading=!1}catch(a){console.error("Error loading students data:",a)}}},created(){this.loadGroupsData()}},ta=t(89);const la=(0,ta.Z)(ea,[["render",P],["__scopeId","data-v-2314ddac"]]);var sa=la}}]);
//# sourceMappingURL=620.afe2e4d2.js.map