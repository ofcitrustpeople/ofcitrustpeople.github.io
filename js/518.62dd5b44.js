"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[518],{5518:function(a,e,s){s.r(e),s.d(e,{default:function(){return L}});var t=s(3396),r=s(7139),o=s(9242);const l=a=>((0,t.dD)("data-v-645e2a74"),a=a(),(0,t.Cn)(),a),n={class:"list"},d={key:0},m=(0,t.uE)('<div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div><div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div><div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div>',3),c=[m],i={key:1,class:"col-md-12"},u={class:"form-group"},_=l((()=>(0,t._)("label",{for:"required_amount"},"Стоимость обучения",-1))),v={class:"form-group"},p=l((()=>(0,t._)("label",{for:"program_name"},"Название программы",-1))),f={class:"form-group"},g=l((()=>(0,t._)("label",{for:"hours"},"Часы",-1))),b={class:"form-group"},k=l((()=>(0,t._)("label",{for:"start_date"},"Начало обучения",-1))),h={class:"form-group"},y=l((()=>(0,t._)("label",{for:"end_date"},"Конец обучния",-1))),w={class:"form-group mt-3"},W=["disabled"],C={class:"spinner-border spinner-border-sm"};function x(a,e,s,l,m,x){const q=(0,t.up)("Field"),D=(0,t.up)("ErrorMessage"),F=(0,t.up)("router-link"),E=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",n,[m.dataLoading?((0,t.wg)(),(0,t.iD)("div",d,c)):((0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(E,{onSubmit:x.addProgram,"validation-schema":m.schema},{default:(0,t.w5)((({errors:a})=>[(0,t._)("div",null,[(0,t._)("div",u,[_,(0,t.Wm)(q,{name:"required_amount",type:"number",value:"",class:(0,r.C_)(["form-control",{"is-invalid":a.required_amount}])},null,8,["class"]),(0,t.Wm)(D,{name:"required_amount",class:"error-feedback"})]),(0,t._)("div",v,[p,(0,t.Wm)(q,{name:"program_name",type:"text",class:(0,r.C_)(["form-control",{"is-invalid":a.program_name}]),value:""},null,8,["class"]),(0,t.Wm)(D,{name:"program_name",class:"error-feedback"})]),(0,t._)("div",f,[g,(0,t.Wm)(q,{name:"hours",type:"number",class:(0,r.C_)(["form-control",{"is-invalid":a.hours}]),value:""},null,8,["class"]),(0,t.Wm)(D,{name:"hours",class:"error-feedback"})]),(0,t._)("div",b,[k,(0,t.Wm)(q,{name:"start_date",type:"date",class:(0,r.C_)(["form-control",{"is-invalid":a.start_date}]),value:""},null,8,["class"]),(0,t.Wm)(D,{name:"start_date",class:"error-feedback"})]),(0,t._)("div",h,[y,(0,t.Wm)(q,{name:"end_date",type:"date",class:(0,r.C_)(["form-control",{"is-invalid":a.end_date}]),value:""},null,8,["class"]),(0,t.Wm)(D,{name:"end_date",class:"error-feedback"})]),(0,t._)("div",w,[(0,t._)("button",{class:"btn btn-primary btn-block",disabled:m.loading},[(0,t.wy)((0,t._)("span",C,null,512),[[o.F8,m.loading]]),(0,t.Uk)(" Добавить программу ")],8,W),(0,t.Wm)(F,{to:"/programs",class:"btn btn-secondary ml-2 float-end"},{default:(0,t.w5)((()=>[(0,t.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),m.message?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,r.C_)(["alert",m.successful?"alert-success":"alert-danger"])},(0,r.zw)(m.message),3)):(0,t.kq)("",!0)]))])}var q=s(5708),D=s(7629),F=s(5124),E=s(4677),P={setup(){const a=(0,E.pm)();return{toast:a}},name:"AddStudent",components:{Form:q.l0,Field:q.gN,ErrorMessage:q.Bc},data(){const a=D.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!1,message:"",schema:a,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addProgram(a){try{this.loading=!0;const e=await F.Z.addProgram(a.required_amount,a.program_name,a.hours,a.start_date,a.end_date);e.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили программу!")}catch(e){this.message="Ошибка",this.toast.error("Ошибка добавления программы"),console.error("Error",e)}}},created(){}},S=s(89);const j=(0,S.Z)(P,[["render",x],["__scopeId","data-v-645e2a74"]]);var L=j}}]);
//# sourceMappingURL=518.62dd5b44.js.map