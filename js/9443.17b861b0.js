"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[9443],{9443:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var o=t(3396),s=t(7139),l=t(9242);const d=e=>((0,o.dD)("data-v-d774bfda"),e=e(),(0,o.Cn)(),e),r={class:"col-md-12 list"},n={key:0},i={class:"form-group d-inline-flex align-items-center col-5 mb-2"},c=d((()=>(0,o._)("label",{for:"course_work_theme"},"Тема работы:",-1))),u={class:"form-group d-inline-flex align-items-center col-6 mb-2"},m=d((()=>(0,o._)("label",{for:"course_work_teacher_id"},"Руководитель:",-1))),k=["value"],_={class:"form-group d-inline-flex align-items-center col-10 mb-2"},f=d((()=>(0,o._)("label",{for:"course_work_student_id"},"Исполнитель:",-1))),w=["value"],v={class:"form-group d-inline-flex align-items-center col-6 mb-2"},b=d((()=>(0,o._)("label",{for:"course_work_kafedra"},"Кафедра:",-1))),p=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},y=["checked"],g=["checked"],C={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=d((()=>(0,o._)("label",{for:"course_work_year"},"Год:",-1))),V={class:"form-group d-inline-flex align-items-center col-3 mb-2"},W=d((()=>(0,o._)("label",{for:"course_work_ocenka"},"Оценка:",-1))),D={class:"form-group mt-3"},U=["disabled"],A={class:"spinner-border spinner-border-sm"},I={key:1},E=(0,o.uE)('<div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div><div class="form-group" data-v-d774bfda><label class="form-control skeleton-text skeleton-animate" data-v-d774bfda></label><input type="text" class="form-control skeleton skeleton-animate" data-v-d774bfda></div>',18),Z=[E];function S(e,a,t,d,E,S){const T=(0,o.up)("Field"),F=(0,o.up)("ErrorMessage"),z=(0,o.up)("Select2"),B=(0,o.up)("router-link"),G=(0,o.up)("Form");return(0,o.wg)(),(0,o.iD)("div",r,[E.Cw?((0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(G,{onSubmit:S.updateCw,"validation-schema":E.schema},{default:(0,o.w5)((({errors:t})=>[(0,o._)("div",null,[(0,o._)("div",i,[c,(0,o.Wm)(T,{name:"course_work_theme",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.course_work_theme}]),modelValue:E.editedCw.course_work_theme,"onUpdate:modelValue":a[0]||(a[0]=e=>E.editedCw.course_work_theme=e)},null,8,["class","modelValue"]),(0,o.Wm)(F,{name:"course_work_theme",class:"error-feedback"})]),(0,o._)("div",u,[m,(0,o.Wm)(z,{class:(0,s.C_)(["col-5",{"form-control is-invalid":t.course_work_teacher_id}]),modelValue:E.editedCw.course_work_teacher_id,"onUpdate:modelValue":a[1]||(a[1]=e=>E.editedCw.course_work_teacher_id=e),options:e.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(T,{name:"course_work_teacher_id",as:"select",modelValue:E.editedCw.course_work_teacher_id,"onUpdate:modelValue":a[2]||(a[2]=e=>E.editedCw.course_work_teacher_id=e),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.teachers,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,k)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(F,{name:"course_work_teacher_id",class:"error-feedback"})]),(0,o._)("div",_,[f,(0,o.Wm)(z,{class:(0,s.C_)(["col-5",{"form-control is-invalid":t.course_work_student_id}]),modelValue:E.editedCw.course_work_student_id,"onUpdate:modelValue":a[3]||(a[3]=e=>E.editedCw.course_work_student_id=e),options:e.students,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(T,{name:"course_work_student_id",as:"select",modelValue:E.editedCw.course_work_student_id,"onUpdate:modelValue":a[4]||(a[4]=e=>E.editedCw.course_work_student_id=e),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.students,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,w)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(F,{name:"course_work_student_id",class:"error-feedback"})]),(0,o._)("div",v,[b,(0,o.Wm)(z,{class:(0,s.C_)(["col-6",{"form-control is-invalid":t.course_work_kafedra}]),modelValue:E.editedCw.course_work_kafedra,"onUpdate:modelValue":a[5]||(a[5]=e=>E.editedCw.course_work_kafedra=e),options:e.departaments,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(T,{name:"course_work_kafedra",as:"select",modelValue:E.editedCw.course_work_kafedra,"onUpdate:modelValue":a[6]||(a[6]=e=>E.editedCw.course_work_kafedra=e),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.departaments,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,p)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(F,{name:"course_work_kafedra",class:"error-feedback"})]),(0,o._)("div",h,[(0,o.Wm)(T,{name:"course_work_vipysk",type:"radio",value:!0},{default:(0,o.w5)((({field2:e})=>[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",(0,o.dG)({type:"radio",name:"course_work_vipysk"},e,{value:"false",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":a[7]||(a[7]=e=>E.editedCw.course_work_vipysk=e),checked:0==E.editedCw.course_work_vipysk}),null,16,y),[[l.G2,E.editedCw.course_work_vipysk]]),(0,o.Uk)(" Курсовая работа ")])])),_:1}),(0,o.Wm)(F,{name:"course_work_vipysk",class:"error-feedback"}),(0,o.Wm)(T,{name:"editedCw.course_work_vipysk",type:"radio",value:!0},{default:(0,o.w5)((({field:e})=>[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",(0,o.dG)({type:"radio",name:"editedCw.course_work_vipysk"},e,{value:"true",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":a[8]||(a[8]=e=>E.editedCw.course_work_vipysk=e),checked:1==E.editedCw.course_work_vipysk}),null,16,g),[[l.G2,E.editedCw.course_work_vipysk]]),(0,o.Uk)(" Выпускная работа ")])])),_:1})]),(0,o._)("div",C,[x,(0,o.Wm)(T,{name:"course_work_year",type:"number",class:(0,s.C_)(["form-control",{"is-invalid":t.course_work_year}]),modelValue:E.editedCw.course_work_year,"onUpdate:modelValue":a[9]||(a[9]=e=>E.editedCw.course_work_year=e)},null,8,["class","modelValue"]),(0,o.Wm)(F,{name:"course_work_year",class:"error-feedback"})]),(0,o._)("div",V,[W,(0,o.Wm)(T,{name:"course_work_ocenka",type:"number",class:(0,s.C_)(["form-control",{"is-invalid":t.course_work_ocenka}]),modelValue:E.editedCw.course_work_ocenka,"onUpdate:modelValue":a[10]||(a[10]=e=>E.editedCw.course_work_ocenka=e)},null,8,["class","modelValue"]),(0,o.Wm)(F,{name:"course_work_ocenka",class:"error-feedback"})]),(0,o._)("div",D,[(0,o._)("button",{class:"btn btn-primary btn-block float-start",disabled:E.loading},[(0,o.wy)((0,o._)("span",A,null,512),[[l.F8,E.loading]]),(0,o.Uk)(" Обновить работу ")],8,U),(0,o._)("button",{type:"button",class:"btn btn-danger mx-2 float-end",onClick:a[11]||(a[11]=(...e)=>S.deleteCW&&S.deleteCW(...e))}," Удалить работу "),(0,o.Wm)(B,{to:"/courseworks",class:"btn btn-secondary ml-2 float-end"},{default:(0,o.w5)((()=>[(0,o.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,o.wg)(),(0,o.iD)("div",I,Z)),e.message?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,s.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,s.zw)(e.message),3)):(0,o.kq)("",!0)])}t(7658);var T=t(5708),F=t(7629),z=t(5124),B=t(4677),G={setup(){const e=(0,B.pm)();return{toast:e}},components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},data(){const e=F.Ry().shape({});return{schema:e,loading:!1,Cw:null,editedCw:null,profiles:null,directions:null}},methods:{async deleteCW(){try{this.loading=!0;const e=await z.Z.deleteCwById(this.Cw.course_work_id);e.data,this.loading=!1,this.toast.success("Успешно удалили!"),this.$router.push("/courseworks")}catch(e){console.error("Ошибка загрузки данных",e)}},async updateCw(){try{this.loading=!0;const e=await z.Z.updateCwById(this.Cw.course_work_id,this.editedCw.course_work_theme,this.editedCw.course_work_teacher_id,this.editedCw.course_work_student_id,this.editedCw.course_work_kafedra,this.editedCw.course_work_vipysk,this.editedCw.course_work_year,this.editedCw.course_work_ocenka);e.data,this.Cw={...this.editedCw},this.loading=!1,this.toast.success("Успешно обновили работу!")}catch(e){console.error("Ошибка загрузки данных о работе:",e)}},async loadCwDetail(){const e=this.$route.params.CwId;try{const a=await z.Z.getCwById(e);this.Cw=a.data,this.editedCw={...a.data}}catch(a){console.error("Error",a)}},async loadTeachersData(){try{const e=await z.Z.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadStudentsData(){try{const e=await z.Z.getStudentsAsIdText();this.students=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadDepartamentsData(){try{const e=await z.Z.getDepartamentsAsIdText();this.departaments=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadTeachersData(),this.loadStudentsData(),this.loadDepartamentsData(),this.loadCwDetail()}},H=t(89);const K=(0,H.Z)(G,[["render",S],["__scopeId","data-v-d774bfda"]]);var Y=K}}]);
//# sourceMappingURL=9443.17b861b0.js.map