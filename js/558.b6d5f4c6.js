"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[558],{558:function(a,e,t){t.r(e),t.d(e,{default:function(){return z}});var l=t(3396),s=t(7139),o=t(9242);const r=a=>((0,l.dD)("data-v-45abaa4f"),a=a(),(0,l.Cn)(),a),d={class:"col-md-12 list"},n={key:0},i={class:"form-group"},m=r((()=>(0,l._)("label",{for:"lastname"},"Фамилия",-1))),c={class:"form-group"},u=r((()=>(0,l._)("label",{for:"name"},"Имя",-1))),f={class:"form-group"},p=r((()=>(0,l._)("label",{for:"surname"},"Отчество",-1))),b={class:"form-group"},v=r((()=>(0,l._)("label",{for:"passport "},"Серия и номер паспорта",-1))),y={class:"form-group"},k=r((()=>(0,l._)("label",{for:"issue_date"},"Дата выдачи",-1))),_={class:"form-group"},g=r((()=>(0,l._)("label",{for:"department_code "},"Код подразделения",-1))),h={class:"form-group"},P=r((()=>(0,l._)("label",{for:"registration_address "},"Адресс регистрации",-1))),x={class:"form-group"},V=r((()=>(0,l._)("label",{for:"SNILS"},"СНИЛС",-1))),W={class:"form-group"},w=r((()=>(0,l._)("label",{for:"phone_number "},"Телефон",-1))),C={class:"form-group"},U=r((()=>(0,l._)("label",{for:"email"},"Email",-1))),S={class:"form-group mt-3"},D=["disabled"],I={class:"spinner-border spinner-border-sm"},E={key:1},F=(0,l.uE)('<div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div><div class="form-group" data-v-45abaa4f><label class="form-control skeleton-text skeleton-animate" data-v-45abaa4f></label><input type="text" class="form-control skeleton skeleton-animate" data-v-45abaa4f></div>',13),N=[F];function L(a,e,t,r,F,L){const Z=(0,l.up)("Field"),A=(0,l.up)("ErrorMessage"),B=(0,l.up)("router-link"),G=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",d,[F.payer?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(G,{onSubmit:L.updatePayer,"validation-schema":F.schema},{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",null,[(0,l._)("div",i,[m,(0,l.Wm)(Z,{name:"lastname",type:"text",value:"",class:(0,s.C_)(["form-control",{"is-invalid":a.lastname}]),modelValue:F.editedPayer.lastname,"onUpdate:modelValue":e[0]||(e[0]=a=>F.editedPayer.lastname=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"lastname",class:"error-feedback"})]),(0,l._)("div",c,[u,(0,l.Wm)(Z,{name:"name",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.name}]),value:"",modelValue:F.editedPayer.name,"onUpdate:modelValue":e[1]||(e[1]=a=>F.editedPayer.name=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"name",class:"error-feedback"})]),(0,l._)("div",f,[p,(0,l.Wm)(Z,{name:"surname",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.patronymic}]),value:"",modelValue:F.editedPayer.surname,"onUpdate:modelValue":e[2]||(e[2]=a=>F.editedPayer.surname=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"surname",class:"error-feedback"})]),(0,l._)("div",b,[v,(0,l.Wm)(Z,{name:"passport ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.passport}]),value:"",modelValue:F.editedPayer.passport,"onUpdate:modelValue":e[3]||(e[3]=a=>F.editedPayer.passport=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"passport ",class:"error-feedback"})]),(0,l._)("div",y,[k,(0,l.Wm)(Z,{name:"issue_date",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":a.date}]),value:"",modelValue:F.editedPayer.issue_date,"onUpdate:modelValue":e[4]||(e[4]=a=>F.editedPayer.issue_date=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"issue_date ",class:"error-feedback"})]),(0,l._)("div",_,[g,(0,l.Wm)(Z,{name:"department_code ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.department_code}]),value:"",modelValue:F.editedPayer.department_code,"onUpdate:modelValue":e[5]||(e[5]=a=>F.editedPayer.department_code=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"department_code ",class:"error-feedback"})]),(0,l._)("div",h,[P,(0,l.Wm)(Z,{name:"registration_address ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.registration_address}]),value:"",modelValue:F.editedPayer.registration_address,"onUpdate:modelValue":e[6]||(e[6]=a=>F.editedPayer.registration_address=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"registration_address ",class:"error-feedback"})]),(0,l._)("div",x,[V,(0,l.Wm)(Z,{name:"SNILS",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.SNILS}]),value:"",modelValue:F.editedPayer.snils,"onUpdate:modelValue":e[7]||(e[7]=a=>F.editedPayer.snils=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"SNILS",class:"error-feedback"})]),(0,l._)("div",W,[w,(0,l.Wm)(Z,{name:"phone_number ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.phone_number}]),value:"",modelValue:F.editedPayer.phone_number,"onUpdate:modelValue":e[8]||(e[8]=a=>F.editedPayer.phone_number=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"phone_number ",class:"error-feedback"})]),(0,l._)("div",C,[U,(0,l.Wm)(Z,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":a.email}]),value:"",modelValue:F.editedPayer.email,"onUpdate:modelValue":e[9]||(e[9]=a=>F.editedPayer.email=a)},null,8,["class","modelValue"]),(0,l.Wm)(A,{name:"email",class:"error-feedback"})]),(0,l._)("div",S,[(0,l._)("button",{class:"btn btn-primary btn-block float-start",disabled:F.loading},[(0,l.wy)((0,l._)("span",I,null,512),[[o.F8,F.loading]]),(0,l.Uk)(" Обновить законного представителя ")],8,D),(0,l.Wm)(B,{to:"/payers",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,l.wg)(),(0,l.iD)("div",E,N)),a.message?((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,s.C_)(["alert",a.successful?"alert-success":"alert-danger"])},(0,s.zw)(a.message),3)):(0,l.kq)("",!0)])}var Z=t(5708),A=t(7629),B=t(5124),G=t(4677),j={setup(){const a=(0,G.pm)();return{toast:a}},components:{Form:Z.l0,Field:Z.gN,ErrorMessage:Z.Bc},data(){const a=A.Ry().shape({});return{schema:a,loading:!1,payer:null,editedPayer:null,groups:null}},methods:{async loadPayerDetail(){const a=this.$route.params.payerId;try{const e=await B.Z.getPayerById(a);this.payer=e.data,this.editedPayer={...e.data}}catch(e){console.error("Error loading payer details:",e)}},async updatePayer(){try{this.loading=!0;const a=await B.Z.updatePayerById(this.payer.id,this.editedPayer.name,this.editedPayer.surname,this.editedPayer.lastname,this.editedPayer.snils,this.editedPayer.passport,this.editedPayer.issued_by,this.editedPayer.issue_date,this.editedPayer.department_code,this.editedPayer.registration_address,this.editedPayer.phone_number,this.editedPayer.email);a.data,this.payer={...this.editedPayer},this.loading=!1,this.toast.success("Успешно обновили плательщика!")}catch(a){console.error("Ошибка :",a)}},async loadGroupsData(){try{const a=await B.Z.getGroupsAsIdText();this.groups=Array.isArray(a.data)?a.data:[a.data]}catch(a){console.error("Ошибка :",a)}}},created(){this.loadGroupsData(),this.loadPayerDetail()}},M=t(89);const q=(0,M.Z)(j,[["render",L],["__scopeId","data-v-45abaa4f"]]);var z=q}}]);
//# sourceMappingURL=558.b6d5f4c6.js.map