"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[476],{2476:function(e,t,a){a.r(t),a.d(t,{default:function(){return de}});var l=a(3396),d=a(7139),o=a(9242);const s=e=>((0,l.dD)("data-v-fd0e175c"),e=e(),(0,l.Cn)(),e),n={class:"col-md-12 list"},r={key:0},i={class:"form-group"},c=s((()=>(0,l._)("label",{for:"last_name"},"Фамилия",-1))),m={class:"form-group"},u=s((()=>(0,l._)("label",{for:"first_name"},"Имя",-1))),f={class:"form-group"},p=s((()=>(0,l._)("label",{for:"patronymic"},"Отчество",-1))),_={class:"form-group"},v=s((()=>(0,l._)("label",{for:"gender"},"Пол",-1))),b=s((()=>(0,l._)("br",null,null,-1))),k=s((()=>(0,l._)("br",null,null,-1))),g={class:"form-group"},S=s((()=>(0,l._)("label",{for:"date_of_birth"},"Дата рождения",-1))),h={class:"form-group"},y=s((()=>(0,l._)("label",{for:"passport_series_and_number"},"Серия и номер паспорта",-1))),V={class:"form-group"},x=s((()=>(0,l._)("label",{for:"INN"},"ИНН",-1))),W={class:"form-group"},N=s((()=>(0,l._)("label",{for:"SNILS"},"СНИЛС",-1))),U={class:"form-group"},C=s((()=>(0,l._)("label",{for:"place_of_birth"},"Страна рождения",-1))),w={class:"form-group"},I=s((()=>(0,l._)("label",{for:"email"},"Email",-1))),D={class:"form-group"},E=s((()=>(0,l._)("label",{for:"student_login"},"Логин студента",-1))),L={class:"form-group"},Z=s((()=>(0,l._)("label",{for:"enrollment_order"},"Приказ о зачислении",-1))),q={class:"form-group"},F=s((()=>(0,l._)("label",{for:"enrolled_date"},"Дата зачисления",-1))),A={class:"form-group"},B=s((()=>(0,l._)("label",{for:"course"},"Курс",-1))),G={class:"form-group"},M=s((()=>(0,l._)("label",{for:"group_id"},"Группа",-1))),j=["value"],z={class:"form-group"},H=s((()=>(0,l._)("label",{for:"subgroup"},"Подгруппа",-1))),K={class:"form-group mt-3"},R=["disabled"],T={class:"spinner-border spinner-border-sm"},Y={key:1},$=(0,l.uE)('<div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div><div class="form-group" data-v-fd0e175c><label class="form-control skeleton-text skeleton-animate" data-v-fd0e175c></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fd0e175c></div>',18),J=[$];function O(e,t,a,s,$,O){const P=(0,l.up)("Field"),Q=(0,l.up)("ErrorMessage"),X=(0,l.up)("Select2"),ee=(0,l.up)("router-link"),te=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",n,[$.student?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(te,{onSubmit:O.updateStudent,"validation-schema":$.schema},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",null,[(0,l._)("div",i,[c,(0,l.Wm)(P,{name:"last_name",type:"text",value:"",class:(0,d.C_)(["form-control",{"is-invalid":e.last_name}]),modelValue:$.editedStudent.last_name,"onUpdate:modelValue":t[0]||(t[0]=e=>$.editedStudent.last_name=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"last_name",class:"error-feedback"})]),(0,l._)("div",m,[u,(0,l.Wm)(P,{name:"first_name",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.first_name}]),value:"",modelValue:$.editedStudent.first_name,"onUpdate:modelValue":t[1]||(t[1]=e=>$.editedStudent.first_name=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"first_name",class:"error-feedback"})]),(0,l._)("div",f,[p,(0,l.Wm)(P,{name:"patronymic",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.patronymic}]),value:"",modelValue:$.editedStudent.patronymic,"onUpdate:modelValue":t[2]||(t[2]=e=>$.editedStudent.patronymic=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"patronymic",class:"error-feedback"})]),(0,l._)("div",_,[v,b,(0,l.Wm)(P,{name:"gender",type:"radio",value:"m",class:(0,d.C_)(["form-check-input",{"is-invalid":e.gender}]),modelValue:$.editedStudent.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>$.editedStudent.gender=e)},null,8,["class","modelValue"]),(0,l.Uk)(" Мужской "),(0,l.Wm)(P,{name:"gender",type:"radio",value:"f",class:(0,d.C_)(["form-check-input",{"is-invalid":e.gender}]),modelValue:$.editedStudent.gender,"onUpdate:modelValue":t[4]||(t[4]=e=>$.editedStudent.gender=e)},null,8,["class","modelValue"]),(0,l.Uk)(" Женский "),k,(0,l.Wm)(Q,{name:"gender",class:"error-feedback"})]),(0,l._)("div",g,[S,(0,l.Wm)(P,{name:"date_of_birth",type:"date",class:(0,d.C_)(["form-control",{"is-invalid":e.date}]),value:"",modelValue:$.editedStudent.date_of_birth,"onUpdate:modelValue":t[5]||(t[5]=e=>$.editedStudent.date_of_birth=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"date_of_birth",class:"error-feedback"})]),(0,l._)("div",h,[y,(0,l.Wm)(P,{name:"passport_series_and_number",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.passport_series_and_number}]),value:"",modelValue:$.editedStudent.passport_series_and_number,"onUpdate:modelValue":t[6]||(t[6]=e=>$.editedStudent.passport_series_and_number=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"passport_series_and_number",class:"error-feedback"})]),(0,l._)("div",V,[x,(0,l.Wm)(P,{name:"INN",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.INN}]),value:"",modelValue:$.editedStudent.INN,"onUpdate:modelValue":t[7]||(t[7]=e=>$.editedStudent.INN=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"INN",class:"error-feedback"})]),(0,l._)("div",W,[N,(0,l.Wm)(P,{name:"SNILS",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.SNILS}]),value:"",modelValue:$.editedStudent.SNILS,"onUpdate:modelValue":t[8]||(t[8]=e=>$.editedStudent.SNILS=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"SNILS",class:"error-feedback"})]),(0,l._)("div",U,[C,(0,l.Wm)(P,{name:"place_of_birth",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.place_of_birth}]),value:"",modelValue:$.editedStudent.place_of_birth,"onUpdate:modelValue":t[9]||(t[9]=e=>$.editedStudent.place_of_birth=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"place_of_birth",class:"error-feedback"})]),(0,l._)("div",w,[I,(0,l.Wm)(P,{name:"email",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.email}]),value:"",modelValue:$.editedStudent.email,"onUpdate:modelValue":t[10]||(t[10]=e=>$.editedStudent.email=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"email",class:"error-feedback"})]),(0,l._)("div",D,[E,(0,l.Wm)(P,{name:"student_login",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.student_login}]),value:"",modelValue:$.editedStudent.student_login,"onUpdate:modelValue":t[11]||(t[11]=e=>$.editedStudent.student_login=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"student_login",class:"error-feedback"})]),(0,l._)("div",L,[Z,(0,l.Wm)(P,{name:"enrollment_order",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.enrollment_order}]),value:"",modelValue:$.editedStudent.enrollment_order,"onUpdate:modelValue":t[12]||(t[12]=e=>$.editedStudent.enrollment_order=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"enrollment_order",class:"error-feedback"})]),(0,l._)("div",q,[F,(0,l.Wm)(P,{name:"enrolled_date",type:"date",class:(0,d.C_)(["form-control",{"is-invalid":e.enrolled_date}]),value:"",modelValue:$.editedStudent.enrolled_date,"onUpdate:modelValue":t[13]||(t[13]=e=>$.editedStudent.enrolled_date=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"enrolled_date",class:"error-feedback"})]),(0,l._)("div",A,[B,(0,l.Wm)(P,{name:"course",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.course}]),value:"",modelValue:$.editedStudent.course,"onUpdate:modelValue":t[14]||(t[14]=e=>$.editedStudent.course=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"course",class:"error-feedback"})]),(0,l._)("div",G,[M,(0,l.Wm)(X,{class:(0,d.C_)({"form-control is-invalid":e.group_id}),modelValue:$.editedStudent.group_id,"onUpdate:modelValue":t[15]||(t[15]=e=>$.editedStudent.group_id=e),options:$.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(P,{name:"group_id",as:"select",modelValue:$.editedStudent.group_id,"onUpdate:modelValue":t[16]||(t[16]=e=>$.editedStudent.group_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)($.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,d.zw)(e.text),9,j)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(Q,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",z,[H,(0,l.Wm)(P,{name:"subgroup",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e.subgroup}]),modelValue:$.editedStudent.subgroup,"onUpdate:modelValue":t[17]||(t[17]=e=>$.editedStudent.subgroup=e)},null,8,["class","modelValue"]),(0,l.Wm)(Q,{name:"subgroup",class:"error-feedback"})]),(0,l._)("div",K,[(0,l._)("button",{class:"btn btn-primary btn-block float-start",disabled:$.loading},[(0,l.wy)((0,l._)("span",T,null,512),[[o.F8,$.loading]]),(0,l.Uk)(" Обновить студента ")],8,R),(0,l.Wm)(ee,{to:"/students",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,l.wg)(),(0,l.iD)("div",Y,J)),e.message?((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,d.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,d.zw)(e.message),3)):(0,l.kq)("",!0)])}var P=a(5708),Q=a(7629),X=a(5124),ee=a(4677),te={setup(){const e=(0,ee.pm)();return{toast:e}},components:{Form:P.l0,Field:P.gN,ErrorMessage:P.Bc},data(){const e=Q.Ry().shape({email:Q.Z_().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),group_id:Q.Z_().required("Email is required!")});return{schema:e,loading:!1,student:null,editedStudent:null,groups:null}},methods:{async loadStudentDetail(){const e=this.$route.params.studentId;try{const t=await X.Z.getStudentById(e);this.student=t.data,this.editedStudent={...t.data}}catch(t){console.error("Error loading student details:",t)}},async updateStudent(){try{this.loading=!0;const e=await X.Z.updateStudentById(this.student.student_id,this.editedStudent.first_name,this.editedStudent.last_name,this.editedStudent.patronymic,this.editedStudent.gender,this.editedStudent.date_of_birth,this.editedStudent.passport_series_and_number,this.editedStudent.INN,this.editedStudent.SNILS,this.editedStudent.place_of_birth,this.editedStudent.email,this.editedStudent.student_login,this.editedStudent.enrollment_order,this.editedStudent.enrolled_date,this.editedStudent.course,this.editedStudent.group_id,this.editedStudent.subgroup);e.data,this.student={...this.editedStudent},this.loading=!1,this.toast.success("Успешно обновили студента!")}catch(e){console.error("Ошибка загрузки данных о студенте:",e)}},async loadGroupsData(){try{const e=await X.Z.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Ошибка загрузки данных о студенте:",e)}}},created(){this.loadGroupsData(),this.loadStudentDetail()}},ae=a(89);const le=(0,ae.Z)(te,[["render",O],["__scopeId","data-v-fd0e175c"]]);var de=le}}]);
//# sourceMappingURL=476.73e584cb.js.map