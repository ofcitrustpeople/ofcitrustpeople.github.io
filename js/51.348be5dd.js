"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[51],{6051:function(a,e,t){t.r(e),t.d(e,{default:function(){return E}});var o=t(3396),l=t(7139),s=t(9242);const d=a=>((0,o.dD)("data-v-fbad48f2"),a=a(),(0,o.Cn)(),a),r={class:"col-md-12 list"},n={key:0},i={class:"form-group d-inline-flex align-items-center col-5 mb-2"},f=d((()=>(0,o._)("label",{for:"group_number"},"Номер группы",-1))),c={class:"form-group d-inline-flex align-items-center col-5 mb-2"},u=d((()=>(0,o._)("label",{for:"group_dir_id"},"Направление",-1))),m=["value"],p={class:"form-group d-inline-flex align-items-center col-10 mb-2"},b=d((()=>(0,o._)("label",{for:"group_prof_id"},"Профиль",-1))),v=["value"],k={class:"form-group mt-3"},g=["disabled"],_={class:"spinner-border spinner-border-sm"},x={key:1},y=(0,o.uE)('<div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div><div class="form-group" data-v-fbad48f2><label class="form-control skeleton-text skeleton-animate" data-v-fbad48f2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-fbad48f2></div>',18),h=[y];function w(a,e,t,d,y,w){const G=(0,o.up)("Field"),D=(0,o.up)("ErrorMessage"),V=(0,o.up)("Select2"),W=(0,o.up)("router-link"),C=(0,o.up)("Form");return(0,o.wg)(),(0,o.iD)("div",r,[y.group?((0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(C,{onSubmit:w.updateGroup,"validation-schema":y.schema},{default:(0,o.w5)((({errors:a})=>[(0,o._)("div",null,[(0,o._)("div",i,[f,(0,o.Wm)(G,{name:"group_number",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":a.group_number}]),modelValue:y.editedGroup.group_number,"onUpdate:modelValue":e[0]||(e[0]=a=>y.editedGroup.group_number=a)},null,8,["class","modelValue"]),(0,o.Wm)(D,{name:"group_number",class:"error-feedback"})]),(0,o._)("div",c,[u,(0,o.Wm)(V,{class:(0,l.C_)(["col-5",{"form-control is-invalid":a.group_dir_id}]),modelValue:y.editedGroup.group_dir_id,"onUpdate:modelValue":e[1]||(e[1]=a=>y.editedGroup.group_dir_id=a),options:y.directions,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(G,{name:"group_dir_id",as:"select",modelValue:y.editedGroup.group_dir_id,"onUpdate:modelValue":e[2]||(e[2]=a=>y.editedGroup.group_dir_id=a),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.directions,(a=>((0,o.wg)(),(0,o.iD)("option",{key:a.id,value:a.id},(0,l.zw)(a.text),9,m)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(D,{name:"group_dir_id",class:"error-feedback"})]),(0,o._)("div",p,[b,(0,o.Wm)(V,{class:(0,l.C_)(["col-5",{"form-control is-invalid":a.group_prof_id}]),modelValue:y.editedGroup.group_prof_id,"onUpdate:modelValue":e[3]||(e[3]=a=>y.editedGroup.group_prof_id=a),options:y.profiles,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(G,{name:"group_prof_id",as:"select",modelValue:y.editedGroup.group_prof_id,"onUpdate:modelValue":e[4]||(e[4]=a=>y.editedGroup.group_prof_id=a),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.profiles,(a=>((0,o.wg)(),(0,o.iD)("option",{key:a.id,value:a.id},(0,l.zw)(a.text),9,v)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(D,{name:"group_prof_id",class:"error-feedback"})]),(0,o._)("div",k,[(0,o._)("button",{class:"btn btn-primary btn-block float-start",disabled:y.loading},[(0,o.wy)((0,o._)("span",_,null,512),[[s.F8,y.loading]]),(0,o.Uk)(" Обновить группу ")],8,g),(0,o.Wm)(W,{to:"/groups",class:"btn btn-secondary ml-2 float-end"},{default:(0,o.w5)((()=>[(0,o.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,o.wg)(),(0,o.iD)("div",x,h)),a.message?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,l.C_)(["alert",a.successful?"alert-success":"alert-danger"])},(0,l.zw)(a.message),3)):(0,o.kq)("",!0)])}var G=t(5708),D=t(7629),V=t(5124),W=t(4677),C={setup(){const a=(0,W.pm)();return{toast:a}},components:{Form:G.l0,Field:G.gN,ErrorMessage:G.Bc},data(){const a=D.Ry().shape({});return{schema:a,loading:!1,group:null,editedGroup:null,profiles:null,directions:null}},methods:{async updateGroup(){try{this.loading=!0;const a=await V.Z.updateGroupById(this.group.group_id,this.editedGroup.group_dir_id,this.editedGroup.group_prof_id,this.editedGroup.group_number);a.data,this.group={...this.editedgroup},this.loading=!1,this.toast.success("Успешно обновили группу!")}catch(a){console.error("Ошибка загрузки данных о студенте:",a)}},async loadGroupDetail(){const a=this.$route.params.groupId;try{const e=await V.Z.getGroupById(a);this.group=e.data,this.editedGroup={...e.data}}catch(e){console.error("Error",e)}},async loadDirectionsData(){try{const a=await V.Z.getDirectionsAsIdText();this.directions=Array.isArray(a.data)?a.data:[a.data],this.dataLoading=!1}catch(a){console.error("Error:",a)}},async loadProfilesData(){try{const a=await V.Z.getProfilesAsIdText();this.profiles=Array.isArray(a.data)?a.data:[a.data],this.dataLoading=!1}catch(a){console.error("Error:",a)}}},created(){this.loadDirectionsData(),this.loadProfilesData(),this.loadGroupDetail()}},U=t(89);const A=(0,U.Z)(C,[["render",w],["__scopeId","data-v-fbad48f2"]]);var E=A}}]);
//# sourceMappingURL=51.348be5dd.js.map