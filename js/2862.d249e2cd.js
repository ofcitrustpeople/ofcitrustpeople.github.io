"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[2862],{2862:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(3396),o=a(7139),d=a(9242);const s=e=>((0,l.dD)("data-v-15b6f8b1"),e=e(),(0,l.Cn)(),e),i={class:"col-md-12 list"},n={key:0},r={class:"form-group d-inline-flex align-items-center mb-2"},c=s((()=>(0,l._)("label",{for:"group_id"},"Группа:",-1))),u=["value"],m={class:"form-group d-inline-flex align-items-center float-none mb-2 col-3"},b=s((()=>(0,l._)("label",{for:"subgroup"},"Подгруппа:",-1))),f={class:"form-group d-inline-flex align-items-center col-5 mb-2"},p=s((()=>(0,l._)("label",{for:"audit_day_id"},"День недели",-1))),v=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},_=s((()=>(0,l._)("label",{for:"audit_subject_id"},"Предмет",-1))),k=["value"],g={class:"form-group d-inline-flex align-items-center col-5 mb-2"},y=s((()=>(0,l._)("label",{for:"audit_teacher_id"},"Преподаватель",-1))),x=["value"],w={class:"form-group d-inline-flex align-items-center col-5 mb-2"},S=s((()=>(0,l._)("label",{for:"audit_para_id"},"Пара",-1))),D={id:"numberSelect"},V=["value"],A={class:"form-group d-inline-flex align-items-center col-10 mb-2"},W=s((()=>(0,l._)("label",{for:"audit_subject_id"},"Аудитория",-1))),j=["value"],C={class:"form-group mt-3"},U={class:"form-group float-end"},E={class:"form-group mt-3"},I=["disabled"],Z={class:"spinner-border spinner-border-sm"},T={key:1},z=(0,l.uE)('<div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div><div class="form-group" data-v-15b6f8b1><label class="form-control skeleton-text skeleton-animate" data-v-15b6f8b1></label><input type="text" class="form-control skeleton skeleton-animate" data-v-15b6f8b1></div>',18),H=[z];function K(e,t,a,s,z,K){const Y=(0,l.up)("Select2"),B=(0,l.up)("Field"),F=(0,l.up)("ErrorMessage"),G=(0,l.up)("router-link"),M=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",i,[z.schedules?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(M,{onSubmit:K.updateSchedule,"validation-schema":z.schema},{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",null,[(0,l._)("div",r,[c,(0,l.Wm)(Y,{class:(0,o.C_)({"form-control is-invalid":a.group_id}),modelValue:z.editedSchedule.group_id,"onUpdate:modelValue":t[0]||(t[0]=e=>z.editedSchedule.group_id=e),options:z.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"group_id",as:"select",modelValue:z.editedSchedule.group_id,"onUpdate:modelValue":t[1]||(t[1]=e=>z.editedSchedule.group_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,u)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(F,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",m,[b,(0,l.Wm)(B,{name:"subgroup",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":a.subgroup}]),modelValue:z.editedSchedule.subgroup,"onUpdate:modelValue":t[2]||(t[2]=e=>z.editedSchedule.subgroup=e)},null,8,["class","modelValue"]),(0,l.Wm)(F,{name:"subgroup",class:"error-feedback"})]),(0,l._)("div",f,[p,(0,l.Wm)(Y,{class:(0,o.C_)(["col-5",{"form-control is-invalid":a.day_id}]),modelValue:z.editedSchedule.day_id,"onUpdate:modelValue":t[3]||(t[3]=e=>z.editedSchedule.day_id=e),options:e.days,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"audit_day_id",as:"select",modelValue:z.editedSchedule.day_id,"onUpdate:modelValue":t[4]||(t[4]=e=>z.editedSchedule.day_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.days,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,v)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(F,{name:"audit_day_id",class:"error-feedback"})]),(0,l._)("div",h,[_,(0,l.Wm)(Y,{class:(0,o.C_)(["col-10",{"form-control is-invalid":a.subject_id}]),modelValue:z.editedSchedule.subject_id,"onUpdate:modelValue":t[5]||(t[5]=e=>z.editedSchedule.subject_id=e),options:e.subjects,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"audit_subject_id",as:"select",modelValue:z.editedSchedule.subject_id,"onUpdate:modelValue":t[6]||(t[6]=e=>z.editedSchedule.subject_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.subjects,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,k)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(F,{name:"audit_prof_id",class:"error-feedback"})]),(0,l._)("div",g,[y,(0,l.Wm)(Y,{class:(0,o.C_)(["col-10",{"form-control is-invalid":a.teacher_id}]),modelValue:z.editedSchedule.teacher_id,"onUpdate:modelValue":t[7]||(t[7]=e=>z.editedSchedule.teacher_id=e),options:z.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"audit_teacher_id",as:"select",modelValue:z.editedSchedule.teacher_id,"onUpdate:modelValue":t[8]||(t[8]=e=>z.editedSchedule.teacher_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.teachers,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,x)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(F,{name:"audit_prof_id",class:"error-feedback"})]),(0,l._)("div",w,[S,(0,l._)("select",D,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.options,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.value,key:e.value},(0,o.zw)(e.label),9,V)))),128))])]),(0,l._)("div",A,[W,(0,l.Wm)(Y,{class:(0,o.C_)(["col-5",{"form-control is-invalid":a.aud_id}]),modelValue:z.editedSchedule.aud_id,"onUpdate:modelValue":t[9]||(t[9]=e=>z.editedSchedule.aud_id=e),options:z.auditorium,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"audit_id",as:"select",modelValue:z.editedSchedule.aud_id,"onUpdate:modelValue":t[10]||(t[10]=e=>z.editedSchedule.aud_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.auditorium,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,j)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(F,{name:"audit_aud_id",class:"error-feedback"})]),(0,l._)("div",C,[(0,l.Wm)(G,{to:"/audits",class:"mx-2 btn btn-secondary float-start"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})]),(0,l._)("div",U,[(0,l._)("button",{class:"btn btn-danger float-end",onClick:t[11]||(t[11]=(...e)=>K.deleteAudit&&K.deleteAudit(...e))}," Удалить аудиторию ")]),(0,l._)("div",E,[(0,l._)("button",{class:"btn btn-primary btn-block",disabled:z.loading},[(0,l.wy)((0,l._)("span",Z,null,512),[[d.F8,z.loading]]),(0,l.Uk)(" Обновить аудиторию ")],8,I)])])])),_:1},8,["onSubmit","validation-schema"])])):((0,l.wg)(),(0,l.iD)("div",T,H)),e.message?((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,o.C_)(["alert",z.successful?"alert-success":"alert-danger"])},(0,o.zw)(e.message),3)):(0,l.kq)("",!0)])}a(7658);var Y=a(5708),B=a(7629),F=a(5124),G=a(4677);document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("numberSelect");for(let t=1;t<=8;t++){const a=document.createElement("option");a.value=t,a.textContent=t,e.appendChild(a)}}));var M={setup(){const e=(0,G.pm)();return{toast:e}},components:{Form:Y.l0,Field:Y.gN,ErrorMessage:Y.Bc},data(){const e=B.Ry().shape({});return{schema:e,loading:!1,successful:!1,schedules:null,groups:null,editedSchedule:null,profiles:null,directions:null,options:[],auditorium:null,teachers:null}},mounted(){for(let e=1;e<=8;e++)this.options.push({value:e,label:e})},methods:{async updateSchedule(){try{this.loading=!0;const e=await F.Z.updateScheduleById(this.schedule.schedule_id,this.editedSchedule.day_id,this.editedSchedule.subject_id,this.editedSchedule.teacher_id,this.editedSchedule.aud_id);e.data,this.schedules={...this.editedSchedule},this.loading=!1,this.toast.success("Успешно обновили аудиторию!")}catch(e){console.error("Ошибка загрузки данных :",e)}},async deleteAudit(){try{this.loading=!0;const e=await F.Z.deleteScheduleById(this.schedule.schedule_id);e.data,this.schedules={...this.editedSchedule},this.loading=!1,this.toast.success("Успешно удалили аудиторию!")}catch(e){console.error("Ошибка загрузки данных:",e)}},async loadGroupsData(){try{const e=await F.Z.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Ошибка загрузки данных :",e)}},async loadDaysData(){try{const e=await F.Z.getDaysAsIdText();this.days=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadAuditData(){try{const e=await F.Z.getAuditAsIdText();this.auditorium=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadAuditoriumData(){const e=this.$route.params.scheduleId;try{const t=await F.Z.getAuditById(e);this.schedules=t.data,this.editedSchedule={...t.data}}catch(t){console.error("Error",t)}},async loadTeachersData(){try{const e=await F.Z.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadSubjectsData(){try{const e=await F.Z.getSubjectAsIdText();this.subjects=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}}},created(){this.loadDaysData(),this.loadSubjectsData(),this.loadGroupsData(),this.loadAuditData(),this.loadTeachersData(),this.loadAuditoriumData()}},L=a(89);const q=(0,L.Z)(M,[["render",K],["__scopeId","data-v-15b6f8b1"]]);var N=q}}]);
//# sourceMappingURL=2862.d249e2cd.js.map