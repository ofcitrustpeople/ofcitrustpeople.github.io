"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[953],{953:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var i=t(3396);const r=e=>((0,i.dD)("data-v-6197be04"),e=e(),(0,i.Cn)(),e),o={class:"col col-xs-9 col-lg-12 mt-4 list"},l={class:"col col-12"},h={class:"col col-12"},s=r((()=>(0,i._)("i",{class:"material-icons-outlined"},null,-1))),d=r((()=>(0,i._)("i",{class:"material-icons-outlined"},"add",-1))),n={style:{height:"80vh"}},u={class:"h-100 pt-5"};function c(e,a,t,r,c,m){const f=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[(0,i._)("div",h,[(0,i._)("button",{onClick:a[0]||(a[0]=(...e)=>m.Back&&m.Back(...e)),class:"btn btn-primary float-start",type:"button",style:{"margin-right":"25px"}},[s,(0,i.Uk)("Назад")]),(0,i._)("button",{onClick:a[1]||(a[1]=(...e)=>m.SaveToDB&&m.SaveToDB(...e)),class:"btn btn-primary float-start",type:"button"},[d,(0,i.Uk)("Сохранить")])])]),(0,i._)("div",n,[(0,i._)("div",u,[(0,i.Wm)(f,{class:"ag-theme-alpine",style:{width:"100%",height:"100%"},columnDefs:r.columnDefs.value,rowData:r.rowData.value,defaultColDef:r.defaultColDef,rowSelection:"multiple",animateRows:"true",onCellEditingStopped:m.cellWasEdited,onGridReady:r.onGridReady,onFirstDataRendered:m.onFirstDataRendered,onFilterChanged:m.onFilterChanged,pagination:!0,paginationPageSize:r.paginationPageSize},null,8,["columnDefs","rowData","defaultColDef","onCellEditingStopped","onGridReady","onFirstDataRendered","onFilterChanged","paginationPageSize"])])])])}t(7658);var m=t(6732),f=t(4870),_=t(6074),p=t(4495),v=t(5124);let D=[],w=[];var g={name:"App",components:{AgGridVue:m.n,ButtonCell:_.Z,ProfileHref:p.Z},setup(){const e=(0,f.iH)(null),a=(0,f.iH)(),t=60,r=t=>{e.value=t.api,a.value=t.columnApi},o=()=>{},l=(0,f.qj)({}),h=(0,f.qj)({value:[{editable:!0,maxWidth:200,field:"fam",headerName:"Преподаватель"},{maxWidth:150,field:"short_name",headerName:"Факультет"},{minWidth:400,field:"dis_name",headerName:"Дисциплина"},{maxWidth:200,field:"code_napr",headerName:"Код направления"},{maxWidth:100,field:"kurs",headerName:"Курс"},{maxWidth:150,field:"semestr",headerName:"Семестр"},{maxWidth:200,field:"kont_budg",headerName:"Контингент, бюджет"},{maxWidth:200,field:"kont_dog",headerName:"Контингент, договор"},{maxWidth:200,field:"number_of_streams",headerName:"Количество потоков"},{maxWidth:200,field:"number_of_groups",headerName:"Количество групп"},{maxWidth:200,field:"number_of_subgroups",headerName:"Количество подгрупп"},{maxWidth:150,field:"lec_h",headerName:"Лекции, ч"},{maxWidth:150,field:"seminar_h",headerName:"Семинары, ч"},{maxWidth:150,field:"lab_h",headerName:"Лабы, ч"},{maxWidth:150,field:"consult_h",headerName:"Консультации, ч"},{maxWidth:150,field:"exam_h",headerName:"Экзамены, ч"},{maxWidth:150,field:"zachet_h",headerName:"Зачёты, ч"},{maxWidth:150,field:"kursach_h",headerName:"Курсач, ч"},{maxWidth:200,field:"control_h",headerName:"Контрольные, ч"},{maxWidth:150,field:"VKR_h",headerName:"ВКР, ч"},{maxWidth:150,field:"magistr_h",headerName:"Магистр, ч"},{maxWidth:150,field:"GEK_h",headerName:"ГЭК, ч"},{maxWidth:150,field:"practice_h",headerName:"Практика, ч"},{maxWidth:150,field:"manage_h",headerName:"Управление, ч"},{maxWidth:150,field:"other_h",headerName:"Прочее, ч"},{minWidth:400,field:"dep",headerName:"Кафедра"}]}),s={sortable:!0,filter:!0,flex:1,resizable:!0,minWidth:300};(0,i.bv)((()=>{}));const d=()=>{e.value.setQuickFilter(document.getElementById("filter-text-box").value)};return{onGridReady:r,columnDefs:h,rowData:l,defaultColDef:s,deselectRows:()=>{e.value.deselectAll()},onFilterTextBoxChanged:d,paginationPageSize:t,deleteRow:o}},data(){return{quickFilterValue:"",filters:!1,componentKey:0}},methods:{async loadGroupsData(){try{const e=await v.Z.getTempTeachGruz();this.rowData.value=Array.isArray(e.data)?e.data:[e.data];for(let a=0;a<this.rowData.value.length;a++)this.rowData.value[a].lec_h="object"===typeof this.rowData.value[a].lec_h?0:this.rowData.value[a].lec_h,this.rowData.value[a].seminar_h="object"===typeof this.rowData.value[a].seminar_h?0:this.rowData.value[a].seminar_h,this.rowData.value[a].lab_h="object"===typeof this.rowData.value[a].lab_h?0:this.rowData.value[a].lab_h,this.rowData.value[a].consult_h="object"===typeof this.rowData.value[a].consult_h?0:this.rowData.value[a].consult_h,this.rowData.value[a].exam_h="object"===typeof this.rowData.value[a].exam_h?0:this.rowData.value[a].exam_h,this.rowData.value[a].zachet_h="object"===typeof this.rowData.value[a].zachet_h?0:this.rowData.value[a].zachet_h,this.rowData.value[a].kursach_h="object"===typeof this.rowData.value[a].kursach_h?0:this.rowData.value[a].kursach_h,this.rowData.value[a].control_h="object"===typeof this.rowData.value[a].control_h?0:this.rowData.value[a].control_h,this.rowData.value[a].VKR_h="object"===typeof this.rowData.value[a].VKR_h?0:this.rowData.value[a].VKR_h,this.rowData.value[a].magistr_h="object"===typeof this.rowData.value[a].magistr_h?0:this.rowData.value[a].magistr_h,this.rowData.value[a].GEK_h="object"===typeof this.rowData.value[a].GEK_h?0:this.rowData.value[a].GEK_h,this.rowData.value[a].practice_h="object"===typeof this.rowData.value[a].practice_h?0:this.rowData.value[a].practice_h,this.rowData.value[a].manage_h="object"===typeof this.rowData.value[a].manage_h?0:this.rowData.value[a].manage_h,this.rowData.value[a].other_h="object"===typeof this.rowData.value[a].other_h?0:this.rowData.value[a].other_h,D.push(this.rowData.value[a].fam),w.push(this.rowData.value[a].fac);this.loading=!1}catch(e){console.error("Error loading students data:",e)}},async SaveToDB(){console.log(),this.Back()},Back(){this.$router.push("/xlparse")},cellWasEdited(e){"fam"==e.colDef.field&&v.Z.updateTempNagrFam(e.data.id,e.data.fam)},onFirstDataRendered(e){this.gridApi=e.api,this.columnApi=e.columnApi;const a=this.$route.query.filterModel;if(a){const e=JSON.parse(a);this.gridApi.setFilterModel(e),this.filters=!0}const t=this.$route.query.quickFilter;if(t){const e=JSON.parse(t);this.gridApi.setQuickFilter(e),this.quickFilterValue=e,this.filters=!0}},onFilterChanged(){this.filters=!1;const e=this.gridApi.getQuickFilter(),a=this.gridApi.getFilterModel(),t={};e&&(t.quickFilter=JSON.stringify(e),this.filters=!0),a&&Object.keys(a).length>0&&(t.filterModel=JSON.stringify(a),this.filters=!0),this.$router.push({query:t})},clearFilters(){this.gridApi.setFilterModel(),this.gridApi.setQuickFilter(),this.quickFilterValue="",this.filters=!1}},created(){this.loadGroupsData()}},b=t(89);const y=(0,b.Z)(g,[["render",c],["__scopeId","data-v-6197be04"]]);var x=y},6074:function(e,a,t){t.d(a,{Z:function(){return u}});var i=t(3396);const r=e=>((0,i.dD)("data-v-e73962e4"),e=e(),(0,i.Cn)(),e),o={class:"krasivsk"},l=r((()=>(0,i._)("i",{class:"material-icons-outlined"},"visibility",-1)));function h(e,a,t,r,h,s){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("button",{onClick:a[0]||(a[0]=(...e)=>s.onClick&&s.onClick(...e)),class:"btn btn-primary btn-sm"},[l,(0,i.Uk)("Детали")])])}t(7658);var s={props:["params"],computed:{},methods:{onClick(){this.$router.push(`/profiles/${this.params.data.prof_id}`)}}},d=t(89);const n=(0,d.Z)(s,[["render",h],["__scopeId","data-v-e73962e4"]]);var u=n},4495:function(e,a,t){t.d(a,{Z:function(){return n}});var i=t(3396),r=t(7139);const o=["href"];function l(e,a,t,l,h,s){return(0,i.wg)(),(0,i.iD)("a",{href:"#/directions?filterModel="+JSON.stringify({dir_code:{filterType:"text",type:"equals",filter:this.params.data.dir_code}})},(0,r.zw)(this.params.data.dir_code),9,o)}var h={props:["params"],computed:{},methods:{}},s=t(89);const d=(0,s.Z)(h,[["render",l],["__scopeId","data-v-5139e79a"]]);var n=d}}]);
//# sourceMappingURL=953.79a6cbc1.js.map