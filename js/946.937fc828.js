"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[946],{946:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var o=t(3396),l=t(7139),s=t(9242);const r=e=>((0,o.dD)("data-v-5ba5ceca"),e=e(),(0,o.Cn)(),e),n={class:"col-md-12 list"},c={key:0},d={class:"form-group d-inline-flex align-items-center col-5 mb-2"},i=r((()=>(0,o._)("label",{for:"group_number"},"Номер группы:",-1))),m={class:"form-group d-inline-flex align-items-center col-5 mb-2"},u=r((()=>(0,o._)("label",{for:"group_program_id"},"Программа:",-1))),p=["value"],b={class:"form-group d-inline-flex align-items-center col-5 mb-2"},v=r((()=>(0,o._)("label",{for:"hours"},"Общее количество часов:",-1))),f={class:"form-group d-inline-flex align-items-center col-5 mb-2"},g=r((()=>(0,o._)("label",{for:"start_date"},"Дата начала:",-1))),k={class:"form-group d-inline-flex align-items-center col-5 mb-2"},_=r((()=>(0,o._)("label",{for:"end_date"},"Дата окончания:",-1))),x={class:"form-group d-inline-flex align-items-center col-5 mb-2"},h=r((()=>(0,o._)("label",{for:"starttime"},"Время начала:",-1))),y={class:"form-group d-inline-flex align-items-center col-5 mb-2"},G=r((()=>(0,o._)("label",{for:"endtime"},"Время окончания:",-1))),V={class:"form-group d-inline-flex align-items-center col-5 mb-2"},w=r((()=>(0,o._)("label",{for:"people_count"},"Общее количество человек:",-1))),W={class:"form-group mt-3"},C=["disabled"],D={class:"spinner-border spinner-border-sm"},U={key:1},E=(0,o.uE)('<div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div><div class="form-group" data-v-5ba5ceca><label class="form-control skeleton-text skeleton-animate" data-v-5ba5ceca></label><input type="text" class="form-control skeleton skeleton-animate" data-v-5ba5ceca></div>',18),F=[E];function I(e,a,t,r,E,I){const L=(0,o.up)("Field"),Z=(0,o.up)("ErrorMessage"),A=(0,o.up)("Select2"),B=(0,o.up)("router-link"),P=(0,o.up)("Form");return(0,o.wg)(),(0,o.iD)("div",n,[E.group?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(P,{onSubmit:I.updateGroup,"validation-schema":E.schema},{default:(0,o.w5)((({errors:t})=>[(0,o._)("div",null,[(0,o._)("div",d,[i,(0,o.Wm)(L,{name:"group_number",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":t.group_number}]),modelValue:E.editedGroup.group_number,"onUpdate:modelValue":a[0]||(a[0]=e=>E.editedGroup.group_number=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"group_number",class:"error-feedback"})]),(0,o._)("div",m,[u,(0,o.Wm)(A,{class:(0,l.C_)(["col-5",{"form-control is-invalid":t.group_program_id}]),modelValue:E.editedGroup.group_program_id,"onUpdate:modelValue":a[1]||(a[1]=e=>E.editedGroup.group_program_id=e),options:E.programs,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(L,{name:"group_program_id",as:"select",modelValue:E.editedGroup.group_program_id,"onUpdate:modelValue":a[2]||(a[2]=e=>E.editedGroup.group_program_id=e),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(E.programs,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,l.zw)(e.text),9,p)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{name:"group_program_id",class:"error-feedback"})]),(0,o._)("div",b,[v,(0,o.Wm)(L,{name:"hours",type:"number",class:(0,l.C_)(["form-control",{"is-invalid":t.hours}]),modelValue:E.editedGroup.hours,"onUpdate:modelValue":a[3]||(a[3]=e=>E.editedGroup.hours=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"hours",class:"error-feedback"})]),(0,o._)("div",f,[g,(0,o.Wm)(L,{name:"start_date",type:"date",class:(0,l.C_)(["form-control",{"is-invalid":t.start_date}]),modelValue:E.editedGroup.start_date,"onUpdate:modelValue":a[4]||(a[4]=e=>E.editedGroup.start_date=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"start_date",class:"error-feedback"})]),(0,o._)("div",k,[_,(0,o.Wm)(L,{name:"end_date",type:"date",class:(0,l.C_)(["form-control",{"is-invalid":t.end_date}]),modelValue:E.editedGroup.end_date,"onUpdate:modelValue":a[5]||(a[5]=e=>E.editedGroup.end_date=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"end_date",class:"error-feedback"})]),(0,o._)("div",x,[h,(0,o.Wm)(L,{name:"starttime",type:"time",class:(0,l.C_)(["form-control",{"is-invalid":t.starttime}]),modelValue:E.editedGroup.starttime,"onUpdate:modelValue":a[6]||(a[6]=e=>E.editedGroup.starttime=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"starttime",class:"error-feedback"})]),(0,o._)("div",y,[G,(0,o.Wm)(L,{name:"endtime",type:"time",class:(0,l.C_)(["form-control",{"is-invalid":t.endtime}]),modelValue:E.editedGroup.endtime,"onUpdate:modelValue":a[7]||(a[7]=e=>E.editedGroup.endtime=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"endtime",class:"error-feedback"})]),(0,o._)("div",V,[w,(0,o.Wm)(L,{name:"people_count",type:"number",class:(0,l.C_)(["form-control",{"is-invalid":t.pc}]),modelValue:E.editedGroup.people_count,"onUpdate:modelValue":a[8]||(a[8]=e=>E.editedGroup.people_count=e)},null,8,["class","modelValue"]),(0,o.Wm)(Z,{name:"people_count",class:"error-feedback"})]),(0,o._)("div",W,[(0,o.Wm)(B,{to:"/lgroups",class:"btn btn-secondary ml-2 float-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Отмена")])),_:1}),(0,o._)("button",{class:"btn btn-primary btn-block float-end",disabled:e.loading},[(0,o.wy)((0,o._)("span",D,null,512),[[s.F8,e.loading]]),(0,o.Uk)(" Добавить группу ")],8,C)])])])),_:1},8,["onSubmit","validation-schema"])])):((0,o.wg)(),(0,o.iD)("div",U,F)),e.message?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,l.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,l.zw)(e.message),3)):(0,o.kq)("",!0)])}var L=t(5708),Z=t(7629),A=t(5124),B=t(4677),P={setup(){const e=(0,B.pm)();return{toast:e}},components:{Form:L.l0,Field:L.gN,ErrorMessage:L.Bc},data(){const e=Z.Ry().shape({});return{schema:e,dataLoading:!1,group:null,editedGroup:null,profiles:null,directions:null,programs:null}},methods:{async updateGroup(){try{this.loading=!0;const e=await A.Z.updateLgroupById(this.group.group_id,this.editedGroup.group_number,this.editedGroup.group_program_id,this.editedGroup.hours,this.editedGroup.start_date,this.editedGroup.end_date,this.editedGroup.starttime,this.editedGroup.endtime,this.editedGroup.people_count);e.data,this.group={...this.editedgroup},this.toast.success("Успешно обновили группу!")}catch(e){console.error("Ошибка загрузки данных о группе:",e)}},async loadGroupDetail(){const e=this.$route.params.groupId;try{const a=await A.Z.getLgroupById(e);this.group=a.data,this.editedGroup={...a.data}}catch(a){console.error("Error",a)}},async loadProgramsData(){try{const e=await A.Z.getProgramsAsIdText();this.programs=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadGroupDetail(),this.loadProgramsData()}},S=t(89);const j=(0,S.Z)(P,[["render",I],["__scopeId","data-v-5ba5ceca"]]);var z=j}}]);
//# sourceMappingURL=946.937fc828.js.map