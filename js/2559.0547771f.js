"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[2559],{2559:function(e,a,l){l.r(a),l.d(a,{default:function(){return K}});var t=l(3396),o=l(7139),s=l(9242);const r=e=>((0,t.dD)("data-v-1ada84df"),e=e(),(0,t.Cn)(),e),i={class:"list"},d={key:0},n=(0,t.uE)('<div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div><div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div><div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div>',3),u=[n],m={key:1,class:"col-md-12"},c={class:"form-group d-inline-flex align-items-center col-5 mb-2"},p=r((()=>(0,t._)("label",{for:"group_number"},"Номер группы:",-1))),f={class:"form-group d-inline-flex align-items-center col-5 mb-2"},g=r((()=>(0,t._)("label",{for:"group_dir_id"},"Направление:",-1))),_=["value"],v={class:"form-group d-inline-flex align-items-center col-10 mb-2"},b=r((()=>(0,t._)("label",{for:"group_prof_id"},"Профиль:",-1))),y=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},k=r((()=>(0,t._)("label",{for:"course"},"Курс:",-1))),V=["value"],w={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=r((()=>(0,t._)("label",{for:"magister"},"Магистратура:",-1))),D=r((()=>(0,t._)("label",{for:"magister2"},"Нет",-1))),W=r((()=>(0,t._)("label",{for:"magister1"},"Да",-1))),C={class:"form-group mt-3"},U=["disabled"],A={class:"spinner-border spinner-border-sm"};function E(e,a,l,r,n,E){const F=(0,t.up)("Field"),z=(0,t.up)("ErrorMessage"),G=(0,t.up)("Select2"),L=(0,t.up)("router-link"),Z=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",i,[n.dataLoading?((0,t.wg)(),(0,t.iD)("div",d,u)):((0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(Z,{onSubmit:E.addGroup,"validation-schema":n.schema},{default:(0,t.w5)((({errors:l})=>[(0,t._)("div",null,[(0,t._)("div",c,[p,(0,t.Wm)(F,{name:"group_number",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":l.group_number}])},null,8,["class"]),(0,t.Wm)(z,{name:"group_number",class:"error-feedback"})]),(0,t._)("div",f,[g,(0,t.Wm)(G,{class:(0,o.C_)(["col-5",{"form-control is-invalid":l.group_dir_id}]),modelValue:n.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>n.myValue=e),options:n.directions,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.Wm)(F,{name:"group_dir_id",as:"select",modelValue:n.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>n.myValue=e),hidden:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.directions,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,_)))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(z,{name:"group_dir_id",class:"error-feedback"})]),(0,t._)("div",v,[b,(0,t.Wm)(G,{class:(0,o.C_)(["col-5",{"form-control is-invalid":l.group_prof_id}]),modelValue:e.myValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.myValue2=a),options:n.profiles,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.Wm)(F,{name:"group_prof_id",as:"select",modelValue:e.myValue2,"onUpdate:modelValue":a[3]||(a[3]=a=>e.myValue2=a),hidden:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.profiles,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,y)))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(z,{name:"group_prof_id",class:"error-feedback"})]),(0,t._)("div",h,[k,(0,t.Wm)(G,{class:(0,o.C_)(["col-5",{"form-control is-invalid":l.course}]),modelValue:e.myValue3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.myValue3=a),options:n.courses,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.Wm)(F,{name:"course",as:"select",modelValue:e.myValue3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.myValue3=a),hidden:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.courses,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,V)))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(z,{name:"course",class:"error-feedback"})]),(0,t._)("div",w,[x,(0,t.Wm)(F,{name:"magister",type:"radio",id:"magister2",value:"false",class:(0,o.C_)(["form-check-input mt-0 ml-5",{"is-invalid":l.magister}])},null,8,["class"]),D,(0,t.Wm)(F,{name:"magister",type:"radio",id:"magister1",value:"true",class:(0,o.C_)(["form-check-input mt-0",{"is-invalid":l.magister}])},null,8,["class"]),W,(0,t.Wm)(z,{name:"magister",class:"error-feedback"})]),(0,t._)("div",C,[(0,t.Wm)(L,{to:"/groups",class:"btn btn-secondary ml-2 float-start"},{default:(0,t.w5)((()=>[(0,t.Uk)("Отмена")])),_:1}),(0,t._)("button",{class:"btn btn-primary btn-block float-end",disabled:n.loading},[(0,t.wy)((0,t._)("span",A,null,512),[[s.F8,n.loading]]),(0,t.Uk)(" Добавить группу ")],8,U)])])])),_:1},8,["onSubmit","validation-schema"]),n.message?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,o.C_)(["alert",n.successful?"alert-success":"alert-danger"])},(0,o.zw)(n.message),3)):(0,t.kq)("",!0)]))])}var F=l(5708),z=l(7629),G=l(5124),L=l(4677),Z={setup(){const e=(0,L.pm)();return{toast:e}},name:"AddGroup",components:{Form:F.l0,Field:F.gN,ErrorMessage:F.Bc},data(){const e=z.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,profiles:null,directions:null,courses:[{id:"1",text:"1"},{id:"2",text:"2"},{id:"3",text:"3"},{id:"4",text:"4"}],myValue:""}},computed:{},mounted(){},methods:{async addGroup(e){try{this.loading=!0;const a=await G.Z.addGroup(e.group_dir_id,e.group_prof_id,e.group_number,e.course,e.magister);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили группу!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления группы"),console.error("Error:",a)}},async loadDirectionsData(){try{const e=await G.Z.getDirectionsAsIdText();this.directions=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadProfilesData(){try{const e=await G.Z.getProfilesAsIdText();this.profiles=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadDirectionsData(),this.loadProfilesData()}},H=l(89);const I=(0,H.Z)(Z,[["render",E],["__scopeId","data-v-1ada84df"]]);var K=I}}]);
//# sourceMappingURL=2559.0547771f.js.map