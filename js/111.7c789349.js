"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[111],{3111:function(e,a,t){t.r(a),t.d(a,{default:function(){return P}});var l=t(3396),s=t(7139),o=t(9242);const n=e=>((0,l.dD)("data-v-f3bed5b4"),e=e(),(0,l.Cn)(),e),r={class:"list"},d={key:0},i=(0,l.uE)('<div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div><div class="form-group" data-v-f3bed5b4><label class="form-control skeleton-text skeleton-animate" data-v-f3bed5b4></label><input type="text" class="form-control skeleton skeleton-animate" data-v-f3bed5b4></div>',15),m=[i],c={key:1,class:"col-md-12"},b={class:"form-group d-inline-flex align-items-center col-12 mb-2"},f=n((()=>(0,l._)("label",{for:"lastname"},"Фамилия",-1))),u={class:"form-group d-inline-flex align-items-center col-12 mb-2"},v=n((()=>(0,l._)("label",{for:"name"},"Имя",-1))),p={class:"form-group d-inline-flex align-items-center col-12 mb-2"},k=n((()=>(0,l._)("label",{for:"surname"},"Отчество",-1))),_={class:"form-group d-inline-flex align-items-center mb-2 col-6"},g=n((()=>(0,l._)("label",{for:"group_id"},"Группа:",-1))),x=["value"],y={class:"form-group d-inline-flex align-items-center mb-2 col-5"},h=n((()=>(0,l._)("label",{for:"passport"},"Серия и номер паспорта",-1))),W={class:"form-group d-inline-flex align-items-center mb-2 col-5"},w=n((()=>(0,l._)("label",{for:"issue_date"},"Дата выдачи",-1))),C={class:"form-group d-inline-flex align-items-center mb-2"},V=n((()=>(0,l._)("label",{for:"department_code"},"Код подразделения",-1))),D={class:"form-group d-inline-flex align-items-center mb-2"},E=n((()=>(0,l._)("label",{for:"registration_address "},"Адресс регистрации",-1))),L={class:"form-group d-inline-flex align-items-center mb-2"},F=n((()=>(0,l._)("label",{for:"snils"},"СНИЛС",-1))),A={class:"form-group d-inline-flex align-items-center mb-2"},S=n((()=>(0,l._)("label",{for:"issued_by"},"Кем выдан",-1))),U={class:"form-group d-inline-flex align-items-center mb-2"},Z=n((()=>(0,l._)("label",{for:"phone_number"},"Телефон",-1))),j={class:"form-group d-inline-flex align-items-center mb-2"},z=n((()=>(0,l._)("label",{for:"email"},"Email",-1))),G={class:"form-group d-inline-flex align-items-center mb-2"},I=n((()=>(0,l._)("label",{for:"email"},"Email",-1))),M={class:"form-group mt-3"},q=["disabled"],B={class:"spinner-border spinner-border-sm"};function H(e,a,t,n,i,H){const K=(0,l.up)("Field"),N=(0,l.up)("ErrorMessage"),R=(0,l.up)("Select2"),T=(0,l.up)("router-link"),Y=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",r,[i.dataLoading?((0,l.wg)(),(0,l.iD)("div",d,m)):((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(Y,{onSubmit:H.addListener,"validation-schema":i.schema},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",null,[(0,l._)("div",b,[f,(0,l.Wm)(K,{name:"lastname",type:"text",value:"",class:(0,s.C_)(["form-control",{"is-invalid":e.lastname}])},null,8,["class"]),(0,l.Wm)(N,{name:"lastname",class:"error-feedback"})]),(0,l._)("div",u,[v,(0,l.Wm)(K,{name:"name",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.name}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"name",class:"error-feedback"})]),(0,l._)("div",p,[k,(0,l.Wm)(K,{name:"surname",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.patronymic}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"surname",class:"error-feedback"})]),(0,l._)("div",_,[g,(0,l.Wm)(R,{class:(0,s.C_)(["col-5",{"form-control is-invalid":e.group_id}]),modelValue:i.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>i.myValue=e),options:i.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(K,{name:"group_id",as:"select",modelValue:i.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>i.myValue=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,x)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(N,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",y,[h,(0,l.Wm)(K,{name:"passport",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.passport}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"passport",class:"error-feedback"})]),(0,l._)("div",W,[w,(0,l.Wm)(K,{name:"issue_date",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":e.date}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"issue_date ",class:"error-feedback"})]),(0,l._)("div",C,[V,(0,l.Wm)(K,{name:"department_code",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.department_code}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"department_code",class:"error-feedback"})]),(0,l._)("div",D,[E,(0,l.Wm)(K,{name:"registration_address",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.registration_address}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"registration_address",class:"error-feedback"})]),(0,l._)("div",L,[F,(0,l.Wm)(K,{name:"snils",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.snils}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"snils",class:"error-feedback"})]),(0,l._)("div",A,[S,(0,l.Wm)(K,{name:"issued_by",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.issued_by}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"issued_by",class:"error-feedback"})]),(0,l._)("div",U,[Z,(0,l.Wm)(K,{name:"phone_number",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.phone_number}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"phone_number",class:"error-feedback"})]),(0,l._)("div",j,[z,(0,l.Wm)(K,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.email}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"email",class:"error-feedback"})]),(0,l._)("div",G,[I,(0,l.Wm)(K,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.email}]),value:""},null,8,["class"]),(0,l.Wm)(N,{name:"email",class:"error-feedback"})]),(0,l._)("div",M,[(0,l._)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,l.wy)((0,l._)("span",B,null,512),[[o.F8,i.loading]]),(0,l.Uk)(" Добавить слушателя ")],8,q),(0,l.Wm)(T,{to:"/listeners",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)(["alert",i.successful?"alert-success":"alert-danger"])},(0,s.zw)(i.message),3)):(0,l.kq)("",!0)]))])}var K=t(5708),N=t(7629),R=t(5124),T=t(4677),Y={setup(){const e=(0,T.pm)();return{toast:e}},name:"AddStudent",components:{Form:K.l0,Field:K.gN,ErrorMessage:K.Bc},data(){const e=N.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!1,message:"",schema:e,days_of_week:null,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addListener(e){try{this.loading=!0;const a=await R.Z.addListener(e.name,e.surname,e.lastname,e.group_id,e.snils,e.passport,e.issued_by,e.issue_date,e.department_code,e.registration_address,e.phone_number,e.email);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили слушателя!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления "),console.error("Error updating student details:",a)}},async loadGroupsData(){try{const e=await R.Z.getLgroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading students data:",e)}}},created(){this.loadGroupsData()}},J=t(89);const O=(0,J.Z)(Y,[["render",H],["__scopeId","data-v-f3bed5b4"]]);var P=O}}]);
//# sourceMappingURL=111.7c789349.js.map