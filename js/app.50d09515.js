(function(){"use strict";var e={9384:function(e,n,t){var r=t(9242),s=t(3396);const a={id:"app"},o={class:"mycontainer"};function d(e,n,t,r,d,i){const u=(0,s.up)("Menu"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(u),(0,s._)("div",o,[(0,s.Wm)(c)])])}t(7658);var i=t(7139);function u(e,n,t,a,o,d){const u=(0,s.up)("MenuItem");return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["menu",{"small-menu":e.smallMenu}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.menuTree,((n,t)=>((0,s.wg)(),(0,s.j4)(u,{key:t,data:n.children,label:n.label,link:n.link,icon:n.icon,depth:0,smallMenu:e.smallMenu,onClick:(0,r.iM)((n=>t===e.menuTree.length-1?d.logOut():null),["prevent"]),class:(0,i.C_)({"bottom-fixed":t===e.menuTree.length-1})},null,8,["data","label","link","icon","smallMenu","onClick","class"])))),128))],2)}const c={class:"left"},l={key:0,class:"material-icons-outlined"},p={key:0,class:"right"};function _(e,n,t,a,o,d){const u=(0,s.up)("router-link"),_=(0,s.up)("menu-item",!0);return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["menu-item",{opened:e.expanded}])},[(0,s._)("div",{class:"label",onClick:n[0]||(n[0]=e=>d.toggleMenu()),style:(0,i.j5)({paddingLeft:20*t.depth+20+"px"})},[(0,s._)("div",c,[(0,s.Wm)(u,{to:t.link,class:"nav-link"},{default:(0,s.w5)((()=>[(0,s._)("span",null,[t.icon?((0,s.wg)(),(0,s.iD)("i",l,(0,i.zw)(t.icon),1)):(0,s.kq)("",!0)]),d.showLabel?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,i.C_)({test:!t.smallMenu})},(0,i.zw)(t.label),3)):(0,s.kq)("",!0)])),_:1},8,["to"])]),t.data?((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("i",{class:(0,i.C_)(["expand material-icons-outlined",{opened:e.expanded}])},"expand_more",2)])):(0,s.kq)("",!0)],4),(0,s.wy)((0,s._)("div",{class:(0,i.C_)([{"small-menu":t.smallMenu},"items-container"]),style:(0,i.j5)({height:e.containerHeight}),ref:"container"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.data,((n,r)=>((0,s.wg)(),(0,s.j4)(_,{class:(0,i.C_)({opened:e.showChildren}),key:r,data:n.children,label:n.label,link:n.link,icon:n.icon,depth:t.depth+1,smallMenu:t.smallMenu},null,8,["class","data","label","link","icon","depth","smallMenu"])))),128))],6),[[r.F8,e.showChildren]])],2)}var m={name:"menu-item",data:()=>({showChildren:!1,expanded:!1,containerHeight:0}),props:{data:{type:Array},label:{type:String},link:{type:String},icon:{type:String},depth:{type:Number},smallMenu:{type:Boolean}},computed:{showLabel(){return!this.smallMenu||this.depth>0}},methods:{toggleMenu(){this.expanded=!this.expanded,this.showChildren?(this.containerHeight=this.$refs["container"].scrollHeight+"px",this.$refs["container"].style.overflow="hidden",setTimeout((()=>{this.containerHeight="0px"}),10),setTimeout((()=>{this.showChildren=!1}),300)):(this.showChildren=!0,this.$nextTick((()=>{this.containerHeight=this.$refs["container"].scrollHeight+"px",setTimeout((()=>{this.containerHeight="fit-content",-1!=navigator.userAgent.indexOf("Firefox")&&(this.containerHeight="-moz-max-content"),this.$refs["container"].style.overflow="visible"}),300)})))}}},h=t(89);const g=(0,h.Z)(m,[["render",_],["__scopeId","data-v-43f35467"]]);var y=g,S={name:"recursive-menu",data:()=>({smallMenu:!1,menuTree:[{label:"Домой",link:"/home",icon:"home"},{label:"Студенты",link:"",icon:"school",children:[{label:"Список студентов",link:"/students"},{label:"Направления",link:"/directions"},{label:"Профили",link:"/profiles"},{label:"Группы",link:"/groups"},{label:"Курсовые",link:"/courseworks"}]},{label:"Слушатели",link:"",icon:"contact_page",children:[{label:"Список слушателей",link:"/listeners"},{label:"Плательщики",link:"/payers"},{label:"Группы",link:"/lgroups"},{label:"Договора",link:"/contracts"},{label:"Программы",link:"/programs"},{label:"График платежей",link:"/payments"}]},{label:"Расписание",link:"",icon:"calendar_month",children:[{label:"Нагрузка",link:"/ScheduleLoads"},{label:"Аудитории",link:"/audits"}]},{label:"Excel",link:"/xlparse",icon:"description"},{label:"Настройки",link:"/profile",icon:"settings"},{label:"Выйти",link:"",icon:"logout"}]}),components:{MenuItem:y},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};const f=(0,h.Z)(S,[["render",u],["__scopeId","data-v-732287bc"]]);var E=f,b={created(){this.$store.dispatch("auth/checkTokenExpiration")},components:{Menu:E},computed:{currentUser(){return this.$store.state.auth.user}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};const $=(0,h.Z)(b,[["render",d]]);var A=$,T=t(2483);const I={class:"container"},O={class:"jumbotron"};function C(e,n,t,r,a,o){return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("header",O,[(0,s._)("h3",null,(0,i.zw)(a.content),1)])])}var R=t(5124),w={name:"Home",data(){return{content:""}},mounted(){R.Z.getPublicContent().then((e=>{this.content=e.data}),(e=>{this.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}};const N=(0,h.Z)(w,[["render",C]]);var k=N;const L=e=>((0,s.dD)("data-v-7e43d1f8"),e=e(),(0,s.Cn)(),e),q={class:"col-md-12 list"},M={class:"col-8 mx-auto"},Y=L((()=>(0,s._)("img",{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",class:"profile-img-card"},null,-1))),Z={class:"form-group"},v=L((()=>(0,s._)("label",{for:"username"},"Логин:",-1))),D={class:"form-group mb-3"},x=L((()=>(0,s._)("label",{for:"password"},"Пароль:",-1))),j={class:"form-group"},F=["disabled"],H={class:"spinner-border spinner-border-sm"},B=L((()=>(0,s._)("span",null,"Войти",-1))),P={class:"form-group"},W={key:0,class:"alert alert-danger",role:"alert"};function U(e,n,t,a,o,d){const u=(0,s.up)("Field"),c=(0,s.up)("ErrorMessage"),l=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("div",M,[Y,(0,s.Wm)(l,{onSubmit:d.handleLogin,"validation-schema":o.schema},{default:(0,s.w5)((()=>[(0,s._)("div",Z,[v,(0,s.Wm)(u,{name:"username",type:"text",class:"form-control"}),(0,s.Wm)(c,{name:"username",class:"error-feedback"})]),(0,s._)("div",D,[x,(0,s.Wm)(u,{name:"password",type:"password",class:"form-control"}),(0,s.Wm)(c,{name:"password",class:"error-feedback"})]),(0,s._)("div",j,[(0,s._)("button",{class:"btn btn-primary btn-block",disabled:o.loading},[(0,s.wy)((0,s._)("span",H,null,512),[[r.F8,o.loading]]),B],8,F)]),(0,s._)("div",P,[o.message?((0,s.wg)(),(0,s.iD)("div",W,(0,i.zw)(o.message),1)):(0,s.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])])}var J=t(5708),V=t(7629),K={name:"Login",components:{Form:J.l0,Field:J.gN,ErrorMessage:J.Bc},data(){const e=V.Ry().shape({username:V.Z_().required("Требуется логин!"),password:V.Z_().required("Требуется пароль!")});return{loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{handleLogin(e){this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>{this.$router.push("/home")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const G=(0,h.Z)(K,[["render",U],["__scopeId","data-v-7e43d1f8"]]);var z=G;const Q={class:"col-md-12"},X={class:"card card-container"},ee=(0,s._)("img",{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",class:"profile-img-card"},null,-1),ne={key:0},te={class:"form-group"},re=(0,s._)("label",{for:"username"},"Username",-1),se={class:"form-group"},ae=(0,s._)("label",{for:"email"},"Email",-1),oe={class:"form-group"},de=(0,s._)("label",{for:"password"},"Password",-1),ie={class:"form-group"},ue=["disabled"],ce={class:"spinner-border spinner-border-sm"};function le(e,n,t,a,o,d){const u=(0,s.up)("Field"),c=(0,s.up)("ErrorMessage"),l=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",Q,[(0,s._)("div",X,[ee,(0,s.Wm)(l,{onSubmit:d.handleRegister,"validation-schema":o.schema},{default:(0,s.w5)((()=>[o.successful?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ne,[(0,s._)("div",te,[re,(0,s.Wm)(u,{name:"username",type:"text",class:"form-control"}),(0,s.Wm)(c,{name:"username",class:"error-feedback"})]),(0,s._)("div",se,[ae,(0,s.Wm)(u,{name:"email",type:"email",class:"form-control"}),(0,s.Wm)(c,{name:"email",class:"error-feedback"})]),(0,s._)("div",oe,[de,(0,s.Wm)(u,{name:"password",type:"password",class:"form-control"}),(0,s.Wm)(c,{name:"password",class:"error-feedback"})]),(0,s._)("div",ie,[(0,s._)("button",{class:"btn btn-primary btn-block",disabled:o.loading},[(0,s.wy)((0,s._)("span",ce,null,512),[[r.F8,o.loading]]),(0,s.Uk)(" Sign Up ")],8,ue)])]))])),_:1},8,["onSubmit","validation-schema"]),o.message?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,i.C_)(["alert",o.successful?"alert-success":"alert-danger"])},(0,i.zw)(o.message),3)):(0,s.kq)("",!0)])])}var pe={name:"Register",components:{Form:J.l0,Field:J.gN,ErrorMessage:J.Bc},data(){const e=V.Ry().shape({username:V.Z_().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),email:V.Z_().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),password:V.Z_().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 characters!")});return{successful:!1,loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/home")},methods:{handleRegister(e){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then((e=>{this.message=e.message,this.successful=!0,this.loading=!1}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.successful=!1,this.loading=!1}))}}};const _e=(0,h.Z)(pe,[["render",le]]);var me=_e,he=t(1598),ge=t(4161);const ye="http://195.93.252.168:5050/api/Auth/";class Se{login(e){return ge.Z.post(ye+"login",{username:e.username,password:e.password}).then((e=>(e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data)))}logout(){localStorage.removeItem("user")}register(e){return ge.Z.post(ye+"register",{username:e.username,password:e.password})}}var fe=new Se;const Ee=()=>t.e(526).then(t.bind(t,7526)),be=()=>t.e(925).then(t.bind(t,5925)),$e=()=>Promise.all([t.e(148),t.e(9)]).then(t.bind(t,5009)),Ae=()=>t.e(890).then(t.bind(t,7890)),Te=()=>t.e(304).then(t.bind(t,8304)),Ie=()=>t.e(105).then(t.bind(t,1105)),Oe=()=>Promise.all([t.e(148),t.e(320)]).then(t.bind(t,4320)),Ce=()=>t.e(354).then(t.bind(t,8354)),Re=()=>t.e(44).then(t.bind(t,6044)),we=()=>Promise.all([t.e(148),t.e(646)]).then(t.bind(t,7646)),Ne=()=>t.e(83).then(t.bind(t,7083)),ke=()=>t.e(96).then(t.bind(t,2096)),Le=()=>Promise.all([t.e(148),t.e(845)]).then(t.bind(t,8845)),qe=()=>t.e(559).then(t.bind(t,2559)),Me=()=>t.e(697).then(t.bind(t,5697)),Ye=()=>Promise.all([t.e(148),t.e(567)]).then(t.bind(t,8567)),Ze=()=>t.e(606).then(t.bind(t,6606)),ve=()=>t.e(647).then(t.bind(t,9647)),De=()=>Promise.all([t.e(148),t.e(398)]).then(t.bind(t,9398)),xe=()=>t.e(464).then(t.bind(t,9464)),je=()=>t.e(875).then(t.bind(t,3875)),Fe=()=>Promise.all([t.e(148),t.e(946)]).then(t.bind(t,9946)),He=()=>t.e(208).then(t.bind(t,9208)),Be=()=>t.e(46).then(t.bind(t,2046)),Pe=()=>t.e(184).then(t.bind(t,184)),We=()=>t.e(796).then(t.bind(t,2796)),Ue=()=>Promise.all([t.e(148),t.e(45)]).then(t.bind(t,9045)),Je=()=>t.e(36).then(t.bind(t,9036)),Ve=()=>Promise.all([t.e(148),t.e(775)]).then(t.bind(t,9775)),Ke=()=>t.e(518).then(t.bind(t,5518)),Ge=()=>t.e(689).then(t.bind(t,1689)),ze=()=>t.e(644).then(t.bind(t,5644)),Qe=()=>Promise.all([t.e(148),t.e(975)]).then(t.bind(t,4975)),Xe=()=>t.e(569).then(t.bind(t,569)),en=()=>t.e(76).then(t.bind(t,2076)),nn=()=>Promise.all([t.e(148),t.e(310)]).then(t.bind(t,3310)),tn=()=>t.e(281).then(t.bind(t,2281)),rn=()=>t.e(461).then(t.bind(t,7461)),sn=()=>t.e(862).then(t.bind(t,2862)),an=()=>t.e(642).then(t.bind(t,1642)),on=()=>t.e(993).then(t.bind(t,6993)),dn=()=>Promise.all([t.e(148),t.e(926)]).then(t.bind(t,2926)),un=()=>Promise.all([t.e(148),t.e(510)]).then(t.bind(t,9510)),cn=()=>t.e(667).then(t.bind(t,8667)),ln=()=>Promise.all([t.e(148),t.e(863)]).then(t.bind(t,2863)),pn=[{path:"/",name:"home",component:k},{path:"/home",component:k},{path:"/login",component:z},{path:"/register",component:me},{path:"/profile",name:"profile",component:Ee},{path:"/xlparse",name:"xlparse",component:cn},{path:"/ManageExcel",name:"ManageExcel",component:ln},{path:"/students",component:$e},{path:"/students/:studentId",component:Ae},{path:"/rights/:table",component:Ie},{path:"/directions",component:Oe},{path:"/directions/:directionId",component:Re},{path:"/AddDirection",component:Ce},{path:"/profiles",component:we},{path:"/profiles/:profileId",component:ke},{path:"/AddProfile",component:Ne},{path:"/groups",component:Le},{path:"/groups/:groupId",component:Me},{path:"/AddGroup",component:qe},{path:"/courses",component:nn},{path:"/courses/:courseID",component:tn},{path:"/AddCourse",component:en},{path:"/listeners",component:Ye},{path:"/listeners/:listenerId",component:Ze},{path:"/AddListener",component:ve},{path:"/payers",component:De},{path:"/payers/:payerId",component:xe},{path:"/Addpayer",component:je},{path:"/contracts",component:Fe},{path:"/contracts/:contractId",component:He},{path:"/AddContract",component:Be},{path:"/ScheduleLoads",component:Pe},{path:"/addcw",component:We},{path:"/courseworks",component:Ue},{path:"/courseworks/:CwId",component:Je},{path:"/programs",component:Ve},{path:"/programs/:programId",component:Ge},{path:"/AddProgram",component:Ke},{path:"/payments",component:Qe},{path:"/payments/:paymentID",component:Xe},{path:"/AddPayment",component:ze},{path:"/audits",component:rn},{path:"/audits/:scheduleId",component:sn},{path:"/AddAudit",component:an},{path:"/lgroups",component:dn},{path:"/addlgroup",component:on},{path:"/lgroups/:groupId",component:un},{path:"/user",name:"user",component:be},{path:"/AddStudent",component:Te},{path:"/AddStudent/:groupName",component:Te}],_n=(0,T.p7)({history:(0,T.r5)(),routes:pn});_n.beforeEach(((e,n,t)=>{const r=["/login","/register","/home"],s=!r.includes(e.path),a=localStorage.getItem("user");if(s&&!a)t("/login");else if(a){const e=JSON.parse(a).accessToken;try{const n=(0,he.Z)(e),r=Date.now()/1e3;n.exp<r?(fe.logout(),t("/login")):t()}catch(o){t()}}else t()}));var mn=_n,hn=t(65);const gn=JSON.parse(localStorage.getItem("user")),yn=gn?{status:{loggedIn:!0},user:gn}:{status:{loggedIn:!1},user:null},Sn={namespaced:!0,state:yn,actions:{login({commit:e},n){return fe.login(n).then((n=>(e("loginSuccess",n),Promise.resolve(n))),(n=>(e("loginFailure"),Promise.reject(n))))},logout({commit:e}){fe.logout(),e("logout")},register({commit:e},n){return fe.register(n).then((n=>(e("registerSuccess"),Promise.resolve(n.data))),(n=>(e("registerFailure"),Promise.reject(n))))},checkTokenExpiration({commit:e,state:n}){const t=n.user?n.user.accessToken:null;if(t)try{const n=(0,he.Z)(t),r=Date.now()/1e3;n.exp<r&&(fe.logout(),e("logout"))}catch(r){}}},mutations:{loginSuccess(e,n){e.status.loggedIn=!0,e.user=n},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}},fn=(0,hn.MT)({modules:{auth:Sn}});var En=fn,bn=(t(2166),t(3494)),$n=t(7749),An=t(8539);bn.vI.add(An.J9Y,An.ILF,An.FKd,An.$Wj,An.jLD);var Tn=t(6204),In=t(4677);t(343);const On={};(0,r.ri)(A).use(mn).use(En).use(In.ZP,On).component("font-awesome-icon",$n.GN).component("Select2",Tn.Z).mount("#app")},5124:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(4161);function s(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{accept:"*/*","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+e.accessToken}:{}}const a="http://195.93.252.168:5050/api/Query/";class o{getPublicContent(){return r.Z.get(a+'"SuperHeroes"',{headers:s()})}getAllStudents(){return r.Z.get(a+"students",{headers:s()})}deleteStudentById(e){const n={query:`DELETE FROM students where "student_id" = '${e}'`};return r.Z.post(a,n,{headers:s()})}getAllFormattedStudents(){const e={query:"SELECT \n      s.student_id,\n      CONCAT_WS(' ', s.last_name, s.first_name, s.patronymic) AS full_name,\n      CONCAT_WS('/', g.group_number, NULLIF(s.subgroup, '')) AS group_name,\n      g.group_number,\n      s.subgroup,\n      TO_CHAR(s.enrolled_date, 'DD/MM/YYYY') AS formatted_enrolled_date,\n      s.enrollment_order,\n      TO_CHAR(s.date_of_birth, 'DD/MM/YYYY') AS formatted_date_of_birth,\n      s.course,\n      s.group_id\n  FROM \n      students s\n  JOIN \n      groups g ON s.group_id = g.group_id\n  ORDER BY \n      full_name ASC;"};return r.Z.post(a,e,{headers:s()})}getStudentById(e){const n={query:`SELECT\n      *,\n      TO_CHAR(date_of_birth, 'YYYY-MM-DD') AS date_of_birth,\n      TO_CHAR(enrolled_date, 'YYYY-MM-DD') AS enrolled_date\n  FROM\n      students\n  WHERE\n      student_id = ${e};`};return r.Z.post(a,n,{headers:s()})}updateStudentById(e,n,t,o,d,i,u,c,l,p,_,m,h,g,y,S,f,E,b){const $={query:`"first_name" = '${n}',\n      "last_name" = '${t}',\n      "patronymic" = '${o}',\n      "gender" = '${d}',\n      "date_of_birth" = '${i}',\n      "passport_series_and_number" = '${u}',\n      "INN" = '${c}',\n      "SNILS" = '${l}',\n      "place_of_birth" = '${p}',\n      "email" = '${_}',\n      "student_login" = '${m}',\n      "enrollment_order" = '${h}',\n      "enrolled_date" = '${g}',\n      "group_id" = '${y}',\n      "subgroup" = '${S}',\n      "zachetka_number"= '${f}',\n      "phone_number"= '${E}',\n      "phone_number_rod"= '${b}'\n  WHERE\n      "student_id" = '${e}';`};return r.Z.put(a+"students",$,{headers:s()})}addStudent(e,n,t,o,d,i,u,c,l,p,_,m,h,g,y,S,f,E){const b={query:`INSERT INTO "students" (\n        "first_name",\n        "last_name",\n        "patronymic",\n        "gender",\n        "date_of_birth",\n        "passport_series_and_number",\n        "INN",\n        "SNILS",\n        "place_of_birth",\n        "email",\n        "student_login",\n        "enrollment_order",\n        "enrolled_date",\n        "group_id",\n        "subgroup",\n        "phone_number",\n        "phone_number_rod",\n        "zachetka_number"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        '${u}',\n        '${c}',\n        '${l}',\n        '${p}',\n        '${_}',\n        '${m}',\n        '${h}',\n        '${g}',\n        '${y}',\n        '${S}',\n        '${f}',\n        '${E}'\n    );`};return r.Z.post(a,b,{headers:s()})}getStudentsAsIdText(){const e={query:"SELECT student_id AS id, \n      CONCAT_WS(' ',last_name, first_name,patronymic) AS text\n      FROM \"students\" ORDER BY \n      text ASC;;"};return r.Z.post(a,e,{headers:s()})}getDepartamentsAsIdText(){const e={query:'SELECT dep_id AS id, \n      dep_name AS text\n      FROM "departaments" ORDER BY \n      text ASC;;'};return r.Z.post(a,e,{headers:s()})}getGroupsAsIdText(){const e={query:'SELECT group_id AS id, group_number AS text\n      FROM "groups" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getGroupsAsKOSTIL(){const e={query:'SELECT group_number AS id, group_number AS text\n      FROM "groups" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getProgramsAsIdText(){const e={query:'SELECT id, program_name AS text\n      FROM "programs" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getPermissionByTable(e){const n={query:`SELECT p.*, r."RoleName"\n      FROM "Permissions" AS p\n      INNER JOIN "Roles" AS r ON p."RoleId" = r."RoleId"\n      WHERE p."TableName" = '${e}';`};return r.Z.post(a,n,{headers:s()})}getAllDirections(){const e={query:"SELECT * from directions ORDER BY \n      dir_name ASC;"};return r.Z.post(a,e,{headers:s()})}getDirectionById(e){const n={query:`SELECT * from directions where \n      dir_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addDirection(e,n){const t={query:`INSERT INTO "directions" (\n        "dir_name",\n        "dir_code"\n    ) VALUES (\n        '${e}',\n        '${n}'\n    );`};return r.Z.post(a,t,{headers:s()})}updateDirectionById(e,n,t){const o={query:`"dir_name" = '${n}',\n      "dir_code" = '${t}'\n  WHERE\n      "dir_id" = '${e}';`};return r.Z.put(a+"directions",o,{headers:s()})}getAllSubjects(){const e={query:"SELECT * from subjects;"};return r.Z.post(a,e,{headers:s()})}getSubjectById(e){const n={query:`SELECT * from subjects where \n      subject_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addSubject(e,n){const t={query:`INSERT INTO "subjects" (\n        "subject_id",\n        "subject_name"\n    ) VALUES (\n        '${e}',\n        '${n}'\n    );`};return r.Z.post(a,t,{headers:s()})}updateSubjectById(e,n){const t={query:`"subject_name" = '${n}',\n  WHERE\n      "subject_id" = '${e}';`};return r.Z.put(a+"subjects",t,{headers:s()})}getAllTeachers(){const e={query:"SELECT * from teachers;"};return r.Z.post(a,e,{headers:s()})}getTeachersForSubject(e){const n={query:`SELECT \n      t.teacher_id, \n      t.first_name, \n      t.last_name, \n      t.patronymic \n    FROM \n      "teachers" t \n    JOIN \n      "employment" e \n    ON \n      t.teacher_id = e.teacher_id \n    WHERE \n      e.subject_id = '${e}';`};return r.Z.post(a,n,{headers:s()})}getSubjectsForTeacher(e){const n={query:`SELECT \n        g.group_number, \n        s.subject_name, \n        t.last_name \n      FROM \n        workload as w \n      JOIN \n        groups as g \n      ON \n        w.group_id = g.group_id \n      JOIN \n        subjects as s \n      ON \n        w.subject_id = s.subject_id \n      JOIN \n        teachers as t \n      ON \n        t.teacher_id = w.teacher_id \n      WHERE \n        w.teacher_id = '${e}';`};return r.Z.post(a,n,{headers:s()})}getTeacherById(e){const n={query:`SELECT * from teachers where \n      teacher_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addTeacher(e,n,t,o){const d={query:`INSERT INTO "teachers" (\n        "teacher_id",\n        "first_name"\n        "last_name"\n        "patronymic"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}'\n    );`};return r.Z.post(a,d,{headers:s()})}updateTeacherById(e,n,t,o){const d={query:`"first_name" = '${n}',\n      "last_name" = '${t}',\n      "patronymic" = '${o}'\n  WHERE\n      "teacher_id" = '${e}';`};return r.Z.put(a+"teachers",d,{headers:s()})}getAllEmployments(){const e={query:'SELECT\n    e.emp_id,\n    e.teacher_id,\n    t.first_name,\n    t.last_name,\n    t.patronymic,\n    e.subject_id,\n    s.subject_name   \n  FROM \n    "employment" e\n  JOIN\n    "teachers" t\n  ON\n    t.teacher_id = e.teacher_id\n  JOIN\n    "subjects" s\n  ON\n    s.subject_id = e.subject_id  \n    ;'};return r.Z.post(a,e,{headers:s()})}getEmploymentById(e){const n={query:`SELECT * from employment where \n    emp_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addEmployment(e,n,t){const o={query:`INSERT INTO "employment" (\n      "emp_id",\n      "teacher_id"\n      "subject_id"\n  ) VALUES (\n      '${e}',\n      '${n}',\n      '${t}'\n  );`};return r.Z.post(a,o,{headers:s()})}updateEmploymentById(e,n,t){const o={query:`"teacher_id" = '${n}',\n    "subject_id" = '${t}'\nWHERE\n    "emp_id" = '${e}';`};return r.Z.put(a+"teachers",o,{headers:s()})}getAllWorkloads(){const e={query:"SELECT * FROM workload"};return r.Z.post(a,e,{headers:s()})}getWorkload(e){const n={query:`SELECT * FROM workload\n    WHERE\n     "group_id" = '${e}'\n    `};return r.Z.post(a,n,{headers:s()})}editWorkload(e,n){const t={query:`UPDATE "workload"\n    SET\n      "teacher_id" = '${n}'\n    WHERE\n      "wl_id" = '${e}'\n    ;`};return r.Z.post(a,t,{headers:s()})}addWorkload(e,n,t){const o={query:`INSERT INTO "workload" (\n      "group_id",\n      "subject_id",\n      "teacher_id"\n  ) VALUES (\n      '${e}',\n      '${n}',\n      '${t}'\n  );`};return r.Z.post(a,o,{headers:s()})}getAllProfiles(){const e={query:'SELECT\n      p.prof_id,\n      p.prof_name,\n      d.dir_id,\n      d.dir_name,\n      d.dir_code\n  FROM\n      "profiles" p\n  JOIN\n      "directions" d ON p.prof_dir_id = d.dir_id\n      ORDER BY \n      p.prof_name ASC;\n  '};return r.Z.post(a,e,{headers:s()})}getProfileById(e){const n={query:`SELECT * from profiles where \n      prof_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addProfile(e,n){const t={query:`INSERT INTO "profiles" (\n        "prof_dir_id",\n        "prof_name"\n    ) VALUES (\n        '${e}',\n        '${n}'\n    );`};return r.Z.post(a,t,{headers:s()})}updateProfileById(e,n,t){const o={query:`"prof_dir_id" = '${n}',\n      "prof_name" = '${t}'\n  WHERE\n      "prof_id" = '${e}';`};return r.Z.put(a+"profiles",o,{headers:s()})}getDirectionsAsIdText(){const e={query:'SELECT dir_id AS id, dir_code AS text\n      FROM "directions" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getProfilesAsIdText(){const e={query:'SELECT prof_id AS id, prof_name AS text\n      FROM "profiles" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getAllGroups(){const e={query:'SELECT\n      g.group_id,\n      g.group_number,\n      g.course,\n      g.magister,\n      p.prof_name,\n      d.dir_name,\n      d.dir_code\n  FROM\n      "groups" AS g\n  JOIN\n      "profiles" AS p\n  ON\n      g.group_prof_id = p.prof_id\n  JOIN\n      "directions" AS d\n  ON\n      g.group_dir_id = d.dir_id  ORDER BY \n      g.group_number ASC;\n  '};return r.Z.post(a,e,{headers:s()})}getGroupById(e){const n={query:`SELECT * from groups where \n      group_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addGroup(e,n,t,o,d){const i={query:`INSERT INTO "groups" (\n        "group_dir_id",\n        "group_prof_id",\n        "group_number",\n        "course",\n        "magister"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}'\n    );`};return r.Z.post(a,i,{headers:s()})}updateGroupById(e,n,t,o,d,i){const u={query:`"group_dir_id" = '${n}',\n      "group_prof_id" = '${t}',\n      "group_number" = '${o}',\n      "course" = '${d}',\n      "magister" = '${i}'\n  WHERE\n      "group_id" = '${e}';`};return r.Z.put(a+"groups",u,{headers:s()})}getAllLgroups(){const e={query:'SELECT\n      *, g.id as lg_id\n  FROM\n      "l_groups" AS g\n      join programs p ON g.group_program_id=p.id;\n  '};return r.Z.post(a,e,{headers:s()})}addLgroup(e,n,t,o,d,i,u){let c=`\n    INSERT INTO "l_groups" (\n      "group_number",\n      "group_program_id",\n      "hours",\n      "start_date",\n      "end_date",\n      "people_count"\n  ) VALUES (\n      '${e}',\n      '${n}',\n      '${t}',\n      '${o}',\n      '${d}',\n      '${i}'\n  );\n  `;u.forEach((e=>{c+=`\n      INSERT INTO "l_groups_day" (\n          "day_id",\n          "starttime",\n          "endtime",\n          "l_groups"\n      ) VALUES (\n          '${e.day_id}',\n          '${e.starttime}',\n          '${e.endtime}',\n          currval('l_groups_id_seq')\n      );\n      `}));const l={query:c};return r.Z.post(a,l,{headers:s()})}updateLgroupById(e,n,t,o,d,i,u,c,l){let p=`UPDATE l_groups SET\n    "group_number" = '${n}',\n      "group_program_id" = '${t}',\n      "hours" = '${o}',\n      "start_date" = '${d}',\n      "end_date" = '${i}',\n      "people_count" = '${u}'\n  WHERE\n      "id" = '${e}';\n    `;l?(p+=`DELETE FROM l_groups_day WHERE l_groups='${e}';`,c.forEach((n=>{p+=`\n        INSERT INTO "l_groups_day" (\n            "day_id",\n            "starttime",\n            "endtime",\n            "l_groups"\n        ) VALUES (\n            '${n.day_id}',\n            '${n.starttime}',\n            '${n.endtime}',\n            '${e}'\n        );\n        `}))):c.forEach((e=>{p+=`\n      UPDATE "l_groups_day" SET\n          "day_id" ='${e.day_id}',\n          "starttime"='${e.starttime}',\n          "endtime"='${e.endtime}'\n    WHERE\n          "l_groups_days_id"='${e.l_groups_days_id}';\n      `}));const _={query:p};return r.Z.post(a,_,{headers:s()})}getLgroupById(e){const n={query:`SELECT *,TO_CHAR(end_date, 'YYYY-MM-DD') AS end_date,TO_CHAR(start_date, 'YYYY-MM-DD') AS start_date from l_groups where \n      id='${e}';`};return r.Z.post(a,n,{headers:s()})}getGDaysById(e){const n={query:`SELECT * from \n      l_groups_day where l_groups='${e}'; `};return r.Z.post(a,n,{headers:s()})}getAllListeners(){const e={query:"SELECT\n      *,\n      CONCAT(l.lastname, ' ', l.name, ' ', l.surname) AS full_name,\n      l.phone_number,\n      l.email,\n      l.id as list_id\n     \n  FROM\n      \"listeners\" as l\n      LEFT JOIN l_groups as lg ON l.group_id=lg.id;\n\n      ;\n  "};return r.Z.post(a,e,{headers:s()})}getAllListenersWithoutGroup(){const e={query:"SELECT\n      *,\n      CONCAT(l.lastname, ' ', l.name, ' ', l.surname) AS full_name, TO_CHAR(start_date , 'DD/MM/YYYY') AS start_date, TO_CHAR(end_date , 'DD/MM/YYYY') AS end_date,\n      l.phone_number,\n      l.email,\n      l.id as list_id\n     \n  FROM\n      \"listeners\" as l\n      JOIN listener_wishes as lw ON l.id=lw.listener_id\n      WHERE l.group_id IS NULL;\n\n      ;\n  "};return r.Z.post(a,e,{headers:s()})}getListenerById(e){const n={query:`SELECT *, TO_CHAR(issue_date , 'YYYY-MM-DD') AS issue_date,TO_CHAR(start_date , 'YYYY-MM-DD') AS start_date,TO_CHAR(end_date, 'YYYY-MM-DD') AS end_date from \n      listeners join listener_wishes on listeners.id=listener_wishes.listener_id where \n      id='${e}'; `};return r.Z.post(a,n,{headers:s()})}getWishDaysById(e){const n={query:`SELECT * from \n      l_wish_days where listener_id='${e}'; `};return r.Z.post(a,n,{headers:s()})}addListener(e,n,t,o,d,i,u,c,l,p,_,m,h,g,y,S,f,E,b){let $=`\n    INSERT INTO "listeners" (\n      "name",\n      "surname",\n      "lastname",\n      group_id,\n      "snils",\n      "passport",\n      "issued_by",\n      "issue_date",\n      "department_code",\n      "registration_address",\n      "phone_number",\n      "email"\n    ) VALUES (\n      '${e}',\n      '${n}',\n      '${t}',\n      ${o},\n      '${d}',\n      '${i}',\n      '${u}',\n      '${c}',\n      '${l}',\n      '${p}',\n      '${_}',\n      '${m}'\n    ) RETURNING id;\n\n    INSERT INTO "listener_wishes" (\n      "people_count",\n      "hours",\n      start_date,\n      "end_date",\n      "listener_id",\n      "wish_description"\n    ) VALUES (\n      '${h}',\n      '${g}',\n      '${y}',\n      '${S}',\n      currval('listeners_id_seq'),\n      '${E}'\n    );\n  `;console.log(b),b.forEach((e=>{$+=`\n    INSERT INTO "l_wish_days" (\n        "day_id",\n        "starttime",\n        "endtime",\n        "listener_id"\n    ) VALUES (\n        '${e.day_id}',\n        '${e.starttime}',\n        '${e.endtime}',\n        currval('listeners_id_seq')\n    );\n    `}));const A={query:$};return r.Z.post(a,A,{headers:s()})}addListenerWishes(e,n,t,o,d,i,u){const c={query:`INSERT INTO "listener_wishes" (\n        "people_count",\n        "hours",\n        "lastname",\n        start_date,\n        "end_date",\n        "listener_id",\n        "wish_description",\n        "suitable_days"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        ARRAY['${u}']\n    );`};return r.Z.post(a,c,{headers:s()})}updateListenerById(e,n,t,o,d,i,u,c,l,p,_,m,h,g,y,S,f,E,b,$){let A=`UPDATE listeners SET\n "name" ='${n}',\n"surname" ='${t}',\n"lastname"=  '${o}',\n"group_id"=  ${d},\n"snils"= '${i}',\n"passport"= '${u}',\n"issued_by"= '${c}',\n"issue_date"='${l}',\n"department_code"='${p}',\n"registration_address"='${_}',\n"phone_number"='${m}',\n"email"='${h}'\nWHERE\n"id" = '${e}';\n\nUPDATE listener_wishes SET\n "people_count" ='${g}',\n"hours" ='${y}',\n"start_date"=  '${S}',\n"end_date"=  '${f}',\n"wish_description"= '${E}'\nWHERE\n"listener_id" = '${e}';\n\n\n`;$?(A+=`DELETE FROM l_wish_days WHERE listener_id='${e}';`,b.forEach((n=>{A+=`\n    INSERT INTO "l_wish_days" (\n        "day_id",\n        "starttime",\n        "endtime",\n        "listener_id"\n    ) VALUES (\n        '${n.day_id}',\n        '${n.starttime}',\n        '${n.endtime}',\n        '${e}'\n    );\n    `}))):b.forEach((e=>{A+=`\n  UPDATE "l_wish_days" SET\n      "day_id" ='${e.day_id}',\n      "starttime"='${e.starttime}',\n      "endtime"='${e.endtime}'\nWHERE\n      "l_wish_day_id"='${e.l_wish_day_id}';\n  `}));const T={query:A};return r.Z.post(a,T,{headers:s()})}getAllContracts(){const e={query:"SELECT \n      *,\n      contracts.id AS contract_id,\n      listeners.id AS listener_id,\n      CONCAT(listeners.lastname, ' ', listeners.name, ' ', listeners.surname) AS listener_full_name,\n      listeners.snils AS listener_snils,\n      listeners.passport AS listener_passport,\n      listeners.issued_by AS listener_issued_by,\n      listeners.issue_date AS listener_issue_date,\n      listeners.department_code AS listener_department_code,\n      listeners.registration_address AS listener_registration_address,\n      listeners.phone_number AS listener_phone_number,\n      listeners.email AS listener_email,\n      payers.id AS payer_id,\n      CONCAT(payers.lastname, ' ', payers.name, ' ', payers.surname) AS payer_full_name,\n      payers.snils AS payer_snils,\n      payers.passport AS payer_passport,\n      payers.issued_by AS payer_issued_by,\n      payers.issue_date AS payer_issue_date,\n      payers.department_code AS payer_department_code,\n      payers.registration_address AS payer_registration_address,\n      payers.phone_number AS payer_phone_number,\n      payers.email AS payer_email,\n      programs.program_name,\n      contracts.contr_number,\n      contracts.id,TO_CHAR(listeners.issue_date, 'DD/MM/YYYY') AS listener_issue_date,\n      TO_CHAR(start_date, 'DD/MM/YYYY') AS start_date,\n      TO_CHAR(end_date, 'DD/MM/YYYY') AS end_date,\n      TO_CHAR(date_enroll, 'DD/MM/YYYY') AS date_enroll,\n      TO_CHAR(date_kick, 'DD/MM/YYYY') AS date_kick\n  FROM \n      contracts\n  JOIN\n      listeners ON contracts.listener_id = listeners.id\n  JOIN\n      payers ON contracts.payer_id = payers.id\n  JOIN\n      programs ON contracts.program_id = programs.id;\n  "};return r.Z.post(a,e,{headers:s()})}getContractById(e){const n={query:`SELECT * from contracts where \n      id='${e}';`};return r.Z.post(a,n,{headers:s()})}addContract(e,n,t,o,d,i,u,c,l){const p={query:`INSERT INTO contracts (listener_id, payer_id, contr_number, program_id,cert_date, listened_hours, date_enroll, date_kick,group_to_move)\n      VALUES(\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        '${u}',\n        ${void 0!==c?`'${c}'`:null},\n        ${l}\n    );`};return r.Z.post(a,p,{headers:s()})}updateContractById(e,n,t,o,d){const i={query:` "listener_id" ='${n}',\n      "payer_id" ='${t}',\n      "contr_number"= '${o}',\n      "program_id"= '${d}'\n  WHERE\n      "id" = '${e}';`};return r.Z.put(a+"contracts",i,{headers:s()})}getPayersAsIdText(){const e={query:"SELECT id AS id, CONCAT(lastname, ' ', name, ' ', surname) AS text\n      FROM \"payers\" ORDER BY \n      text ASC;"};return r.Z.post(a,e,{headers:s()})}getLgroupsAsIdText(){const e={query:'SELECT id AS id, group_number AS text\n      FROM "l_groups" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getListenersAsIdText(){const e={query:"SELECT id AS id, CONCAT(lastname, ' ', name, ' ', surname) AS text\n      FROM \"listeners\" ORDER BY \n      text ASC;"};return r.Z.post(a,e,{headers:s()})}getAllCws(){const e={query:"SELECT\n      cw.course_work_id,\n      cw.course_work_teacher_id,\n      cw.course_work_theme,\n      cw.course_work_student_id,\n      cw.course_work_kafedra,\n      CONCAT(s.last_name, ' ', s.first_name, ' ', s.patronymic) AS full_name,\n      s.gender AS student_gender,\n      s.date_of_birth AS student_date_of_birth,\n      s.passport_series_and_number AS student_passport,\n      s.\"INN\" AS student_INN,\n      s.\"SNILS\" AS student_SNILS,\n      s.place_of_birth AS student_place_of_birth,\n      s.email AS student_email,\n      s.student_login AS student_login,\n      s.enrollment_order AS student_enrollment_order,\n      s.enrolled_date AS student_enrolled_date,\n      s.course AS student_course,\n      s.group_id AS student_group_id,\n      s.subgroup AS student_subgroup,\n      d.dep_name,\n      CONCAT(t.last_name, ' ', t.first_name, ' ', t.patronymic) AS full_name_t\n  FROM\n      course_work cw\n  JOIN\n      students s ON cw.course_work_student_id = s.student_id\n  JOIN\n      departaments d ON cw.course_work_kafedra=d.dep_id\n  JOIN\n      teachers t ON cw.course_work_teacher_id=t.teacher_id;\n  \n  "};return r.Z.post(a,e,{headers:s()})}getCwById(e){const n={query:`SELECT * from course_work where \n      course_work_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addCw(e,n,t,o,d,i,u){const c={query:`INSERT INTO course_work (course_work_theme, course_work_teacher_id, course_work_student_id, course_work_kafedra,course_work_vipysk,course_work_year,course_work_ocenka)\n      VALUES(\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        '${u}'\n    );`};return r.Z.post(a,c,{headers:s()})}updateCwById(e,n,t,o,d,i,u,c){const l={query:` "course_work_theme" ='${n}',\n      "course_work_teacher_id" ='${t}',\n      "course_work_student_id"= '${o}',\n      "course_work_kafedra"= '${d}',\n      "course_work_vipysk" ='${i}',\n      "course_work_year" ='${u}',\n      "course_work_ocenka" ='${c}'\n  WHERE\n      "course_work_id" = '${e}';`};return r.Z.put(a+"course_work",l,{headers:s()})}getAllPayers(){const e={query:"SELECT\n      CONCAT(lastname, ' ', name, ' ', surname) AS full_name,\n      phone_number,\n      email,\n      id\n  FROM\n      payers;\n  "};return r.Z.post(a,e,{headers:s()})}getPayerById(e){const n={query:`SELECT *, TO_CHAR(issue_date , 'YYYY-MM-DD') AS issue_date from payers where \n      id='${e}';`};return r.Z.post(a,n,{headers:s()})}addPayer(e,n,t,o,d,i,u,c,l,p,_){const m={query:`INSERT INTO "payers" (\n        "name",\n        "surname",\n        "lastname",\n        "snils",\n        "passport",\n        "issued_by",\n        "issue_date",\n        "department_code",\n        "registration_address",\n        "phone_number",\n        "email"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        '${u}',\n        '${c}',\n        '${l}',\n        '${p}',\n        '${_}'\n    );`};return r.Z.post(a,m,{headers:s()})}updatePayerById(e,n,t,o,d,i,u,c,l,p,_,m){const h={query:` "name" ='${n}',\n      "surname" ='${t}',\n      "lastname"=  '${o}',\n      "snils"= '${d}',\n      "passport"= '${i}',\n      "issued_by"= '${u}',\n      "issue_date"='${c}',\n      "department_code"='${l}',\n      "registration_address"='${p}',\n      "phone_number"='${_}',\n      "email"='${m}'\n  WHERE\n      "id" = '${e}';`};return r.Z.put(a+"payers",h,{headers:s()})}getAllCourses(){const e={query:'SELECT\n      c.course_id,\n      c.course,\n      c.group_id,\n      g.group_number\n  FROM\n      "courses" c\n  JOIN\n      "groups" g ON c.group_id = g.group_id\n      ORDER BY \n      c.course ASC;\n  '};return r.Z.post(a,e,{headers:s()})}getCourseById(e){const n={query:`SELECT * from courses where \n      course_id='${e}';`};return r.Z.post(a,n,{headers:s()})}addCourse(e,n){const t={query:`INSERT INTO "courses" (\n        "course",\n        "group_id"\n    ) VALUES (\n        '${e}',\n        '${n}'\n    );`};return r.Z.post(a,t,{headers:s()})}updateCourseById(e,n,t){const o={query:`"course" = '${n}',\n      "group_id" = '${t}'\n  WHERE\n      "course_id" = '${e}';`};return r.Z.put(a+"courses",o,{headers:s()})}getAllPrograms(){const e={query:"SELECT\n      id,\n      required_amount,\n      program_name,\n      hours,\n      TO_CHAR(start_date , 'YYYY-MM-DD') AS start_date,\n      TO_CHAR(end_date , 'YYYY-MM-DD') AS end_date\n  FROM\n    programs;\n  "};return r.Z.post(a,e,{headers:s()})}getProgramById(e){const n={query:`SELECT *, TO_CHAR(start_date , 'YYYY-MM-DD') AS start_date, TO_CHAR(end_date , 'YYYY-MM-DD') AS end_date from programs where \n      id='${e}';`};return r.Z.post(a,n,{headers:s()})}addProgram(e,n,t,o,d){const i={query:`INSERT INTO "programs" (\n        "required_amount",\n        "program_name",\n        "hours",\n        "start_date",\n        "end_date"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}'\n    );`};return r.Z.post(a,i,{headers:s()})}getPaymentById(e){const n={query:`SELECT *, TO_CHAR(date_40 , 'YYYY-MM-DD') AS date_40, TO_CHAR(expiration_date , 'YYYY-MM-DD') AS expiration_date from pay_graph where \n      id='${e}';`};return r.Z.post(a,n,{headers:s()})}updateProgramById(e,n,t,o,d,i){const u={query:`"required_amount" ='${n}',\n      "program_name" ='${t}',\n      "hours"=  '${o}',\n      "start_date"= '${d}',\n      "end_date"= '${i}'\n  WHERE\n      "id" = '${e}';`};return r.Z.put(a+"programs",u,{headers:s()})}getAllPayments(){const e={query:"SELECT\n      *, TO_CHAR(expiration_date, 'DD/MM/YYYY') AS expiration_date, TO_CHAR(date_40, 'DD/MM/YYYY') AS date_40 from pay_graph p\n      JOIN contracts c ON p.contract_id=c.id;\n  "};return r.Z.post(a,e,{headers:s()})}getAuditAsIdText(){const e={query:'SELECT aud_id AS id, number AS text\n      FROM "auditorium";'};return r.Z.post(a,e,{headers:s()})}getSubjectAsIdText(){const e={query:'SELECT subject_id AS id, subject_name AS text\n      FROM "subjects";'};return r.Z.post(a,e,{headers:s()})}getContractsAsIdText(){const e={query:'SELECT id AS id, contr_number AS text\n      FROM "contracts";'};return r.Z.post(a,e,{headers:s()})}getTeachersAsIdText(){const e={query:"SELECT teacher_id AS id, \n      CONCAT_WS(' ',last_name, first_name,patronymic) AS text\n      FROM \"teachers\" ORDER BY \n      text ASC;;"};return r.Z.post(a,e,{headers:s()})}updatePaymentById(e,n,t,o,d,i,u,c){const l={query:`"contract_id" ='${n}',\n      "expiration_date" ='${t}',\n      "date_40"=  '${o}',\n      "all_sum"= '${d}',\n      "deposited_amount"= '${i}',\n      "left_to_pay"= '${u}',\n      "bank"= '${c}'\n  WHERE\n      "id" = '${e}';`};return r.Z.put(a+"pay_graph",l,{headers:s()})}addPayment(e,n,t,o,d,i,u){const c={query:`INSERT INTO "pay_graph" (\n        "contract_id",\n        "expiration_date",\n        "date_40",\n        "all_sum",\n        "deposited_amount",\n        "left_to_pay",\n        "bank"\n    ) VALUES (\n        '${e}',\n        '${n}',\n        '${t}',\n        '${o}',\n        '${d}',\n        '${i}',\n        '${u}'\n    );`};return r.Z.post(a,c,{headers:s()})}getPaymentsAsIdText(){const e={query:'SELECT id, contr_number AS text\n      FROM "contracts" ORDER BY \n      text ASC;'};return r.Z.post(a,e,{headers:s()})}getDaysAsIdText(){const e={query:'SELECT day_id AS id, dayofweek AS text\n      FROM "days";'};return r.Z.post(a,e,{headers:s()})}savesSchedule(e,n,t,o){const d={query:`INSERT INTO "schedule" (\n          "aud_id",\n          "day_id",\n          "subject_id",\n          "teacher_id"\n      ) VALUES (\n          '${e}',\n          '${n}',\n          '${t}',\n          '${o}'\n      );`};return r.Z.post(a,d,{headers:s()})}getAllAudit(){const e={query:"SELECT\n       c.schedule_id,\n       a.number,\n       a.type,\n       a.count,\n       s.subject_name,\n       d.dayofweek,\n       CONCAT_WS(' ', t.last_name, t.first_name, t.patronymic) AS full_name\n       \n    FROM\n      schedule c\n      join\n      auditorium a on c.aud_id=a.aud_id\n      join\n      subjects s on c.subject_id=s.subject_id\n      join\n      days d on c.day_id=d.day_id\n      join \n      teachers t on c.teacher_id=t.teacher_id;\n    "};return r.Z.post(a,e,{headers:s()})}getAuditById(e){const n={query:`SELECT * from schedule where \n        schedule_id='${e}';`};return r.Z.post(a,n,{headers:s()})}updateScheduleById(e,n,t,o,d){const i={query:`"day_id = '${n}',\n        subject_id = '${t}',\n        teacher_id = '${o}',\n        aud_id = '${d}'\n    WHERE\n        "schedule_id" = '${e}';`};return r.Z.put(a+"schedule",i,{headers:s()})}deleteScheduleById(e){const n={query:`DELETE FROM schedule where "schedule_id" = '${e}'`};return r.Z.post(a,n,{headers:s()})}clearTempKIT(){const e={query:'TRUNCATE "temp_KIT";'};return r.Z.post(a,e,{headers:s()})}clearTempKITdolj(){const e={query:'TRUNCATE "temp_KIT_dolj" RESTART IDENTITY CASCADE;'};return r.Z.post(a,e,{headers:s()})}clearTempKITdeg(){const e={query:'TRUNCATE "temp_KIT_deg" RESTART IDENTITY CASCADE;'};return r.Z.post(a,e,{headers:s()})}clearTempKITstatus(){const e={query:'TRUNCATE "temp_KIT_status" RESTART IDENTITY CASCADE;'};return r.Z.post(a,e,{headers:s()})}insertTempKIT(e){const n={query:`INSERT INTO "temp_KIT" (\n        "name1",\n        "name2",\n        "name3",\n        "dolj_id",\n        "deg_id",\n        "status_id") \n        VALUES \n        ${e}\n    ;`};return r.Z.post(a,n,{headers:s()})}insertTempKITDolj(e){const n={query:`INSERT INTO "temp_KIT_dolj" (\n        "dolj") \n        VALUES\n        ${e}\n    ;`};return r.Z.post(a,n,{headers:s()})}insertTempKITDeg(e){const n={query:`INSERT INTO "temp_KIT_deg" (\n        "deg") \n        VALUES\n        ${e}\n    ;`};return r.Z.post(a,n,{headers:s()})}insertTempKITStatus(e){const n={query:`INSERT INTO "temp_KIT_status" (\n        "status") \n        VALUES\n        ${e}\n    ;`};return r.Z.post(a,n,{headers:s()})}getTempData(){const e={query:'SELECT\n      t.name1,\n      t.name2,\n      t.name3,\n      d.dolj,\n      de.deg,\n      s.status\n      FROM \n        "temp_KIT" AS t\n      JOIN \n        "temp_KIT_dolj" AS d\n      ON\n        t.dolj_id = d.id\n      JOIN \n        "temp_KIT_deg" AS de\n      ON\n        t.deg_id = de.id\n      JOIN \n        "temp_KIT_status" AS s\n      ON\n        t.status_id = s.id;\n  '};return r.Z.post(a,e,{headers:s()})}}var d=new o}},n={};function t(r){var s=n[r];if(void 0!==s)return s.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,r,s,a){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],a=e[c][2];for(var d=!0,i=0;i<r.length;i++)(!1&a||o>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[i])}))?r.splice(i--,1):(d=!1,a<o&&(o=a));if(d){e.splice(c--,1);var u=s();void 0!==u&&(n=u)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{9:"d83a828b",36:"7d6d39da",44:"b252abf0",45:"1c97db8a",46:"7ce031bc",76:"272e6e50",83:"1767795c",96:"c531f606",105:"dea2e277",148:"3e2e57af",184:"bd17d7f0",208:"f244b2f1",281:"99ac34f9",304:"b460f914",310:"caf0d747",320:"88fedbd6",354:"4de521e4",398:"48508e42",461:"e5ec7e16",464:"f102747c",510:"d29eb9ce",518:"4497a605",526:"894e5623",559:"e13dd723",567:"691e0822",569:"ee7b8ad1",606:"ffcdccfe",642:"3ac9b181",644:"c4576869",646:"6e39d258",647:"516d8328",667:"97eb49c4",689:"dd8eeebc",697:"b14f61ae",775:"da43eac7",796:"30eeef2f",845:"4ffd3ecc",862:"11cfef61",863:"eaf6d743",875:"2a46ce26",890:"b6ff5b6d",925:"b7b46625",926:"4577337d",946:"3d4c51d2",975:"9c6e620f",993:"49c0ca9c"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+e+"."+{9:"d7a2d4e7",36:"d0be88d8",44:"af5a7bb3",45:"3b08d06b",46:"aa7fb0bd",76:"b2275eb6",83:"33604b5d",96:"490afdc7",105:"523d2a97",148:"91e589cf",184:"855ace5f",208:"9b275057",281:"57951295",304:"5ea13b02",310:"112d5f44",320:"96bec71b",354:"60c9000c",398:"aa36eb4d",461:"e3601d79",464:"828f8b12",510:"41da22fe",518:"5a308c9a",559:"86bfcd4d",567:"453d65f0",569:"d4fbd7e1",606:"40cb1b91",642:"97ba118a",644:"33f2350a",646:"e87443c8",647:"5c6569bd",689:"1e4f1b76",697:"b2660b38",775:"988b52a1",796:"67260d5d",845:"917e1929",862:"ce7e43f1",863:"3c60572c",875:"f068631d",890:"71c9b4a0",926:"bd148acb",946:"ce063882",975:"178d2831",993:"e5e9f4ca"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={},n="vue-3-authentication-jwt:";t.l=function(r,s,a,o){if(e[r])e[r].push(s);else{var d,i;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==n+a){d=l;break}}d||(i=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,t.nc&&d.setAttribute("nonce",t.nc),d.setAttribute("data-webpack",n+a),d.src=r),e[r]=[s];var p=function(n,t){d.onerror=d.onload=null,clearTimeout(_);var s=e[r];if(delete e[r],d.parentNode&&d.parentNode.removeChild(d),s&&s.forEach((function(e){return e(t)})),n)return n(t)},_=setTimeout(p.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=p.bind(null,d.onerror),d.onload=p.bind(null,d.onload),i&&document.head.appendChild(d)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,n,t,r,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=function(t){if(a.onerror=a.onload=null,"load"===t.type)r();else{var o=t&&("load"===t.type?"missing":t.type),d=t&&t.target&&t.target.href||n,i=new Error("Loading CSS chunk "+e+" failed.\n("+d+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=o,i.request=d,a.parentNode&&a.parentNode.removeChild(a),s(i)}};return a.onerror=a.onload=o,a.href=n,t?t.parentNode.insertBefore(a,t.nextSibling):document.head.appendChild(a),a},n=function(e,n){for(var t=document.getElementsByTagName("link"),r=0;r<t.length;r++){var s=t[r],a=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===n))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){s=o[r],a=s.getAttribute("data-href");if(a===e||a===n)return s}},r=function(r){return new Promise((function(s,a){var o=t.miniCssF(r),d=t.p+o;if(n(o,d))return s();e(r,d,null,s,a)}))},s={143:0};t.f.miniCss=function(e,n){var t={9:1,36:1,44:1,45:1,46:1,76:1,83:1,96:1,105:1,148:1,184:1,208:1,281:1,304:1,310:1,320:1,354:1,398:1,461:1,464:1,510:1,518:1,559:1,567:1,569:1,606:1,642:1,644:1,646:1,647:1,689:1,697:1,775:1,796:1,845:1,862:1,863:1,875:1,890:1,926:1,946:1,975:1,993:1};s[e]?n.push(s[e]):0!==s[e]&&t[e]&&n.push(s[e]=r(e).then((function(){s[e]=0}),(function(n){throw delete s[e],n})))}}}(),function(){var e={143:0};t.f.j=function(n,r){var s=t.o(e,n)?e[n]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((function(t,r){s=e[n]=[t,r]}));r.push(s[2]=a);var o=t.p+t.u(n),d=new Error,i=function(r){if(t.o(e,n)&&(s=e[n],0!==s&&(e[n]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;d.message="Loading chunk "+n+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,s[1](d)}};t.l(o,i,"chunk-"+n,n)}},t.O.j=function(n){return 0===e[n]};var n=function(n,r){var s,a,o=r[0],d=r[1],i=r[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(s in d)t.o(d,s)&&(t.m[s]=d[s]);if(i)var c=i(t)}for(n&&n(r);u<o.length;u++)a=o[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},r=self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(9384)}));r=t.O(r)})();
//# sourceMappingURL=app.50d09515.js.map