"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[2076],{2076:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var l=a(3396),o=a(7139),s=a(9242);const n=e=>((0,l.dD)("data-v-604638e2"),e=e(),(0,l.Cn)(),e),r={class:"list"},d={key:0},i=(0,l.uE)('<div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div><div class="form-group" data-v-604638e2><label class="form-control skeleton-text skeleton-animate" data-v-604638e2></label><input type="text" class="form-control skeleton skeleton-animate" data-v-604638e2></div>',14),c=[i],m={key:1,class:"col-md-12"},u={class:"form-group d-inline-flex align-items-center mb-2"},v=n((()=>(0,l._)("label",{for:"course"},"Курс:",-1))),p={class:"d-flex flex-wrap"},k={class:"form-group d-inline-flex align-items-center mb-2"},f=n((()=>(0,l._)("label",{for:"group_id"},"Группа:",-1))),g=["value"],b={class:"form-group mt-3"},x=["disabled"],y={class:"spinner-border spinner-border-sm"};function _(e,t,a,n,i,_){const h=(0,l.up)("Field"),w=(0,l.up)("ErrorMessage"),V=(0,l.up)("Select2"),C=(0,l.up)("router-link"),D=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",r,[i.dataLoading?((0,l.wg)(),(0,l.iD)("div",d,c)):((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(D,{onSubmit:_.addCourse,"validation-schema":i.schema},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",null,[(0,l._)("div",u,[v,(0,l.Wm)(h,{name:"course",type:"number",class:(0,o.C_)(["form-control",{"is-invalid":e.course}]),value:""},null,8,["class"]),(0,l.Wm)(w,{name:"course",class:"error-feedback"})]),(0,l._)("div",p,[(0,l._)("div",k,[f,(0,l.Wm)(V,{class:(0,o.C_)({"form-control is-invalid":e.group_id}),modelValue:i.myValue,"onUpdate:modelValue":t[0]||(t[0]=e=>i.myValue=e),options:i.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(h,{name:"group_id",as:"select",modelValue:i.myValue,"onUpdate:modelValue":t[1]||(t[1]=e=>i.myValue=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,g)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(w,{name:"group_id",class:"error-feedback"})])]),(0,l._)("div",b,[(0,l.Wm)(C,{to:"/courses",class:"btn btn-secondary ml-2 float-start"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1}),(0,l._)("button",{class:"btn btn-primary btn-block float-end",disabled:i.loading},[(0,l.wy)((0,l._)("span",y,null,512),[[s.F8,i.loading]]),(0,l.Uk)(" Добавить курс ")],8,x)])])])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)(["alert",i.successful?"alert-success":"alert-danger"])},(0,o.zw)(i.message),3)):(0,l.kq)("",!0)]))])}var h=a(5708),w=a(7629),V=a(5124),C=a(4677),D={setup(){const e=(0,C.pm)();return{toast:e}},name:"AddStudent",components:{Form:h.l0,Field:h.gN,ErrorMessage:h.Bc},data(){const e=w.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addCourse(e){try{this.loading=!0;const t=await V.Z.addCourse(e.course,e.group_id);t.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили курс!")}catch(t){this.message="Ошибка",this.toast.error("Ошибка добавления курса"),console.error("Error updating student details:",t)}},async loadGroupsData(){try{const e=await V.Z.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading students data:",e)}}},created(){this.loadGroupsData()}},W=a(89);const E=(0,W.Z)(D,[["render",_],["__scopeId","data-v-604638e2"]]);var F=E}}]);
//# sourceMappingURL=2076.734d5e72.js.map