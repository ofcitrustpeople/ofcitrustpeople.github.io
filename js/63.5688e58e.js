"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[63],{9063:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var l=a(3396),s=a(7139),o=a(9242);const n=e=>((0,l.dD)("data-v-210ff086"),e=e(),(0,l.Cn)(),e),i={class:"col-md-12 list"},r={key:0},d={class:"form-group d-inline-flex align-items-center col-12 mb-2"},m=n((()=>(0,l._)("label",{for:"lastname"},"Фамилия",-1))),c={class:"form-group d-inline-flex align-items-center col-12 mb-2"},f=n((()=>(0,l._)("label",{for:"name"},"Имя",-1))),u={class:"form-group d-inline-flex align-items-center col-12 mb-2"},p=n((()=>(0,l._)("label",{for:"surname"},"Отчество",-1))),v={class:"form-group d-inline-flex align-items-center mb-2 col-6"},_=n((()=>(0,l._)("label",{for:"group_id"},"Группа:",-1))),b=["value"],g={class:"form-group d-inline-flex align-items-center mb-2 col-5"},k=n((()=>(0,l._)("label",{for:"passport "},"Серия и номер паспорта",-1))),L={class:"form-group d-inline-flex align-items-center mb-2 col-5"},h=n((()=>(0,l._)("label",{for:"issue_date"},"Дата выдачи",-1))),x={class:"form-group d-inline-flex align-items-center mb-2 col-5"},y=n((()=>(0,l._)("label",{for:"department_code "},"Код подразделения",-1))),V={class:"form-group d-inline-flex align-items-center mb-2 col-5"},W=n((()=>(0,l._)("label",{for:"registration_address "},"Адресс регистрации",-1))),w={class:"form-group d-inline-flex align-items-center mb-2 col-5"},C=n((()=>(0,l._)("label",{for:"SNILS"},"СНИЛС",-1))),U={class:"form-group d-inline-flex align-items-center mb-2 col-5"},D=n((()=>(0,l._)("label",{for:"phone_number "},"Телефон",-1))),S={class:"form-group d-inline-flex align-items-center mb-2 col-5"},I=n((()=>(0,l._)("label",{for:"email"},"Email",-1))),E={class:"form-group mt-3"},F=["disabled"],N={class:"spinner-border spinner-border-sm"},Z={key:1},A=(0,l.uE)('<div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div><div class="form-group" data-v-210ff086><label class="form-control skeleton-text skeleton-animate" data-v-210ff086></label><input type="text" class="form-control skeleton skeleton-animate" data-v-210ff086></div>',13),B=[A];function j(e,t,a,n,A,j){const z=(0,l.up)("Field"),G=(0,l.up)("ErrorMessage"),M=(0,l.up)("Select2"),q=(0,l.up)("router-link"),H=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",i,[A.listener?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(H,{onSubmit:j.updateListener,"validation-schema":A.schema},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",null,[(0,l._)("div",d,[m,(0,l.Wm)(z,{name:"lastname",type:"text",value:"",class:(0,s.C_)(["form-control",{"is-invalid":e.lastname}]),modelValue:A.editedListener.lastname,"onUpdate:modelValue":t[0]||(t[0]=e=>A.editedListener.lastname=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"lastname",class:"error-feedback"})]),(0,l._)("div",c,[f,(0,l.Wm)(z,{name:"name",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.name}]),value:"",modelValue:A.editedListener.name,"onUpdate:modelValue":t[1]||(t[1]=e=>A.editedListener.name=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"name",class:"error-feedback"})]),(0,l._)("div",u,[p,(0,l.Wm)(z,{name:"surname",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.patronymic}]),value:"",modelValue:A.editedListener.surname,"onUpdate:modelValue":t[2]||(t[2]=e=>A.editedListener.surname=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"surname",class:"error-feedback"})]),(0,l._)("div",v,[_,(0,l.Wm)(M,{class:(0,s.C_)(["col-5",{"form-control is-invalid":e.group_id}]),modelValue:A.editedListener.group_id,"onUpdate:modelValue":t[3]||(t[3]=e=>A.editedListener.group_id=e),options:A.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(z,{name:"group_id",as:"select",modelValue:A.editedListener.group_id,"onUpdate:modelValue":t[4]||(t[4]=e=>A.editedListener.group_id=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,b)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(G,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",g,[k,(0,l.Wm)(z,{name:"passport ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.passport}]),value:"",modelValue:A.editedListener.passport,"onUpdate:modelValue":t[5]||(t[5]=e=>A.editedListener.passport=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"passport ",class:"error-feedback"})]),(0,l._)("div",L,[h,(0,l.Wm)(z,{name:"issue_date",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":e.date}]),value:"",modelValue:A.editedListener.issue_date,"onUpdate:modelValue":t[6]||(t[6]=e=>A.editedListener.issue_date=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"issue_date ",class:"error-feedback"})]),(0,l._)("div",x,[y,(0,l.Wm)(z,{name:"department_code ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.department_code}]),value:"",modelValue:A.editedListener.department_code,"onUpdate:modelValue":t[7]||(t[7]=e=>A.editedListener.department_code=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"department_code ",class:"error-feedback"})]),(0,l._)("div",V,[W,(0,l.Wm)(z,{name:"registration_address ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.registration_address}]),value:"",modelValue:A.editedListener.registration_address,"onUpdate:modelValue":t[8]||(t[8]=e=>A.editedListener.registration_address=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"registration_address ",class:"error-feedback"})]),(0,l._)("div",w,[C,(0,l.Wm)(z,{name:"SNILS",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.SNILS}]),value:"",modelValue:A.editedListener.snils,"onUpdate:modelValue":t[9]||(t[9]=e=>A.editedListener.snils=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"SNILS",class:"error-feedback"})]),(0,l._)("div",U,[D,(0,l.Wm)(z,{name:"phone_number ",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.phone_number}]),value:"",modelValue:A.editedListener.phone_number,"onUpdate:modelValue":t[10]||(t[10]=e=>A.editedListener.phone_number=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"phone_number ",class:"error-feedback"})]),(0,l._)("div",S,[I,(0,l.Wm)(z,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e.email}]),value:"",modelValue:A.editedListener.email,"onUpdate:modelValue":t[11]||(t[11]=e=>A.editedListener.email=e)},null,8,["class","modelValue"]),(0,l.Wm)(G,{name:"email",class:"error-feedback"})]),(0,l._)("div",E,[(0,l._)("button",{class:"btn btn-primary btn-block float-start",disabled:A.loading},[(0,l.wy)((0,l._)("span",N,null,512),[[o.F8,A.loading]]),(0,l.Uk)(" Обновить студента ")],8,F),(0,l.Wm)(q,{to:"/listeners",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,l.wg)(),(0,l.iD)("div",Z,B)),e.message?((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,s.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,s.zw)(e.message),3)):(0,l.kq)("",!0)])}var z=a(5708),G=a(7629),M=a(5124),q=a(4677),H={setup(){const e=(0,q.pm)();return{toast:e}},components:{Form:z.l0,Field:z.gN,ErrorMessage:z.Bc},data(){const e=G.Ry().shape({});return{schema:e,loading:!1,listener:null,editedListener:null,groups:null}},methods:{async loadListenerDetail(){const e=this.$route.params.listenerId;try{const t=await M.Z.getListenerById(e);this.listener=t.data,this.editedListener={...t.data}}catch(t){console.error("Error loading listener details:",t)}},async updateListener(){try{this.loading=!0;const e=await M.Z.updateListenerById(this.listener.id,this.editedListener.name,this.editedListener.surname,this.editedListener.lastname,this.editedListener.group_id,this.editedListener.snils,this.editedListener.passport,this.editedListener.issued_by,this.editedListener.issue_date,this.editedListener.department_code,this.editedListener.registration_address,this.editedListener.phone_number,this.editedListener.email);e.data,this.listener={...this.editedListener},this.loading=!1,this.toast.success("Успешно обновили слушателя!")}catch(e){console.error("Ошибка :",e)}},async loadGroupsData(){try{const e=await M.Z.getLgroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading students data:",e)}}},created(){this.loadGroupsData(),this.loadListenerDetail()}},K=a(89);const R=(0,K.Z)(H,[["render",j],["__scopeId","data-v-210ff086"]]);var T=R}}]);
//# sourceMappingURL=63.5688e58e.js.map