"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[976],{8976:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var l=t(3396),s=t(7139),o=t(9242);const n=e=>((0,l.dD)("data-v-1e709485"),e=e(),(0,l.Cn)(),e),r={class:"list"},m={key:0},d=(0,l.uE)('<div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div><div class="form-group" data-v-1e709485><label class="form-control skeleton-text skeleton-animate" data-v-1e709485></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1e709485></div>',15),i=[d],c={key:1,class:"col-md-12"},u={class:"form-group"},p=n((()=>(0,l._)("label",{for:"lastname"},"Фамилия",-1))),v={class:"form-group"},f=n((()=>(0,l._)("label",{for:"name"},"Имя",-1))),k={class:"form-group"},_=n((()=>(0,l._)("label",{for:"surname"},"Отчество",-1))),b={class:"form-group"},g=n((()=>(0,l._)("label",{for:"passport"},"Серия и номер паспорта",-1))),y={class:"form-group"},x=n((()=>(0,l._)("label",{for:"issue_date"},"Дата выдачи",-1))),W={class:"form-group"},h=n((()=>(0,l._)("label",{for:"department_code"},"Код подразделения",-1))),w={class:"form-group"},C=n((()=>(0,l._)("label",{for:"registration_address "},"Адресс регистрации",-1))),S={class:"form-group"},V=n((()=>(0,l._)("label",{for:"SNILS"},"СНИЛС",-1))),L={class:"form-group"},D=n((()=>(0,l._)("label",{for:"phone_number"},"Телефон",-1))),E={class:"form-group"},F=n((()=>(0,l._)("label",{for:"email"},"Email",-1))),I={class:"form-group"},N=n((()=>(0,l._)("label",{for:"people_count"},"Желаемое количество людей в группе",-1))),U={class:"form-group"},j=n((()=>(0,l._)("label",{for:"group_id"},"Желаемые дни недели",-1))),z=["value"],M={class:"form-group mt-3"},Z=["disabled"],q={class:"spinner-border spinner-border-sm"};function A(e,a,t,n,d,A){const B=(0,l.up)("Field"),H=(0,l.up)("ErrorMessage"),K=(0,l.up)("Select2"),R=(0,l.up)("router-link"),Y=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",r,[d.dataLoading?((0,l.wg)(),(0,l.iD)("div",m,i)):((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(Y,{onSubmit:A.addListener,"validation-schema":d.schema},{default:(0,l.w5)((({errors:t})=>[(0,l._)("div",null,[(0,l._)("div",u,[p,(0,l.Wm)(B,{name:"lastname",type:"text",value:"",class:(0,s.C_)(["form-control",{"is-invalid":t.lastname}])},null,8,["class"]),(0,l.Wm)(H,{name:"lastname",class:"error-feedback"})]),(0,l._)("div",v,[f,(0,l.Wm)(B,{name:"name",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.name}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"name",class:"error-feedback"})]),(0,l._)("div",k,[_,(0,l.Wm)(B,{name:"surname",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.patronymic}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"surname",class:"error-feedback"})]),(0,l._)("div",b,[g,(0,l.Wm)(B,{name:"passport",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.passport}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"passport",class:"error-feedback"})]),(0,l._)("div",y,[x,(0,l.Wm)(B,{name:"issue_date",type:"date",class:(0,s.C_)(["form-control",{"is-invalid":t.date}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"issue_date ",class:"error-feedback"})]),(0,l._)("div",W,[h,(0,l.Wm)(B,{name:"department_code",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.department_code}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"department_code",class:"error-feedback"})]),(0,l._)("div",w,[C,(0,l.Wm)(B,{name:"registration_address",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.registration_address}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"registration_address",class:"error-feedback"})]),(0,l._)("div",S,[V,(0,l.Wm)(B,{name:"SNILS",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.SNILS}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"SNILS",class:"error-feedback"})]),(0,l._)("div",L,[D,(0,l.Wm)(B,{name:"phone_number",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.phone_number}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"phone_number",class:"error-feedback"})]),(0,l._)("div",E,[F,(0,l.Wm)(B,{name:"email",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":t.email}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"email",class:"error-feedback"})]),(0,l._)("div",I,[N,(0,l.Wm)(B,{name:"people_count",type:"number",class:(0,s.C_)(["form-control",{"is-invalid":t.people_count}]),value:""},null,8,["class"]),(0,l.Wm)(H,{name:"people_count",class:"error-feedback"})]),(0,l._)("div",U,[j,(0,l.Wm)(K,{class:(0,s.C_)({"form-control is-invalid":t.group_id}),modelValue:d.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>d.myValue=e),options:e.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,l.Wm)(B,{name:"group_id",as:"select",modelValue:d.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>d.myValue=e),hidden:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.groups,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.text),9,z)))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(H,{name:"group_id",class:"error-feedback"})]),(0,l._)("div",M,[(0,l._)("button",{class:"btn btn-primary btn-block",disabled:d.loading},[(0,l.wy)((0,l._)("span",q,null,512),[[o.F8,d.loading]]),(0,l.Uk)(" Добавить слушателя ")],8,Z),(0,l.Wm)(R,{to:"/listeners",class:"btn btn-secondary ml-2 float-end"},{default:(0,l.w5)((()=>[(0,l.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),d.message?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)(["alert",d.successful?"alert-success":"alert-danger"])},(0,s.zw)(d.message),3)):(0,l.kq)("",!0)]))])}var B=t(5708),H=t(7629),K=t(5124),R=t(4677),Y={setup(){const e=(0,R.pm)();return{toast:e}},name:"AddStudent",components:{Form:B.l0,Field:B.gN,ErrorMessage:B.Bc},data(){const e=H.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!1,message:"",schema:e,days_of_week:null,myValue:""}},computed:{},mounted(){},methods:{async addListener(e){try{this.loading=!0;const a=await K.Z.addListener(e.name,e.surname,e.lastname,e.snils,e.passport,e.issued_by,e.issue_date,e.department_code,e.registration_address,e.phone_number,e.email);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили слушателя!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления "),console.error("Error updating student details:",a)}}},created(){}},G=t(89);const J=(0,G.Z)(Y,[["render",A],["__scopeId","data-v-1e709485"]]);var O=J}}]);
//# sourceMappingURL=976.2ef0f3c9.js.map