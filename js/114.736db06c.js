"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[114],{2796:function(e,a,s){s.r(a),s.d(a,{default:function(){return j}});var o=s(3396),t=s(7139),r=s(9242);const l=e=>((0,o.dD)("data-v-1698d192"),e=e(),(0,o.Cn)(),e),n={class:"list"},d={key:0},c=(0,o.uE)('<div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div><div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div><div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div>',3),i=[c],u={key:1,class:"col-md-12"},m={class:"form-group d-inline-flex align-items-center col-5 mb-2"},_=l((()=>(0,o._)("label",{for:"course_work_theme"},"Тема работы:",-1))),k={class:"form-group d-inline-flex align-items-center col-6 mb-2"},p=l((()=>(0,o._)("label",{for:"course_work_teacher_id"},"Руководитель:",-1))),w=["value"],f={class:"form-group d-inline-flex align-items-center col-10 mb-2"},v=l((()=>(0,o._)("label",{for:"course_work_student_id"},"Исполнитель:",-1))),y=["value"],h={class:"form-group d-inline-flex align-items-center col-6 mb-2"},g=l((()=>(0,o._)("label",{for:"course_work_kafedra"},"Кафедра:",-1))),b=["value"],V={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=l((()=>(0,o._)("label",{for:"course_work_vipysk1"},"Курсовая работа",-1))),D=l((()=>(0,o._)("label",{for:"course_work_vipysk2"},"Выпускная работа",-1))),W={class:"form-group d-inline-flex align-items-center col-5 mb-2"},C=l((()=>(0,o._)("label",{for:"course_work_year"},"Год:",-1))),A={class:"form-group d-inline-flex align-items-center col-3 mb-2"},U=l((()=>(0,o._)("label",{for:"course_work_ocenka"},"Оценка:",-1))),E={class:"form-group mt-3"},S=["disabled"],T={class:"spinner-border spinner-border-sm"};function F(e,a,s,l,c,F){const Z=(0,o.up)("Field"),z=(0,o.up)("ErrorMessage"),I=(0,o.up)("Select2"),H=(0,o.up)("router-link"),K=(0,o.up)("Form");return(0,o.wg)(),(0,o.iD)("div",n,[c.dataLoading?((0,o.wg)(),(0,o.iD)("div",d,i)):((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(K,{onSubmit:F.addCw,"validation-schema":c.schema},{default:(0,o.w5)((({errors:s})=>[(0,o._)("div",null,[(0,o._)("div",m,[_,(0,o.Wm)(Z,{name:"course_work_theme",type:"text",class:(0,t.C_)(["form-control",{"is-invalid":s.course_work_theme}])},null,8,["class"]),(0,o.Wm)(z,{name:"course_work_theme",class:"error-feedback"})]),(0,o._)("div",k,[p,(0,o.Wm)(I,{class:(0,t.C_)(["col-5",{"form-control is-invalid":s.course_work_teacher_id}]),modelValue:c.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>c.myValue=e),options:c.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(Z,{name:"course_work_teacher_id",as:"select",modelValue:c.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>c.myValue=e),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.teachers,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.text),9,w)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(z,{name:"course_work_teacher_id",class:"error-feedback"})]),(0,o._)("div",f,[v,(0,o.Wm)(I,{class:(0,t.C_)(["col-5",{"form-control is-invalid":s.course_work_student_id}]),modelValue:e.myValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.myValue2=a),options:c.students,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(Z,{name:"course_work_student_id",as:"select",modelValue:e.myValue2,"onUpdate:modelValue":a[3]||(a[3]=a=>e.myValue2=a),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.students,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.text),9,y)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(z,{name:"course_work_student_id",class:"error-feedback"})]),(0,o._)("div",h,[g,(0,o.Wm)(I,{class:(0,t.C_)(["col-6",{"form-control is-invalid":s.course_work_kafedra}]),modelValue:e.myValue3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.myValue3=a),options:c.departaments,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.Wm)(Z,{name:"course_work_kafedra",as:"select",modelValue:e.myValue3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.myValue3=a),hidden:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.departaments,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.text),9,b)))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(z,{name:"course_work_kafedra",class:"error-feedback"})]),(0,o._)("div",V,[(0,o.Wm)(Z,{name:"course_work_vipysk",type:"radio",id:"course_work_vipysk1",value:"false",class:(0,t.C_)(["form-check-input mt-0 ml-5",{"is-invalid":s.course_work_vipysk}])},null,8,["class"]),x,(0,o.Wm)(Z,{name:"course_work_vipysk",type:"radio",id:"course_work_vipysk2",value:"true",class:(0,t.C_)(["form-check-input mt-0",{"is-invalid":s.course_work_vipysk}])},null,8,["class"]),D,(0,o.Wm)(z,{name:"magister",class:"error-feedback"})]),(0,o._)("div",W,[C,(0,o.Wm)(Z,{name:"course_work_year",type:"number",class:(0,t.C_)(["form-control",{"is-invalid":s.course_work_year}])},null,8,["class"]),(0,o.Wm)(z,{name:"course_work_year",class:"error-feedback"})]),(0,o._)("div",A,[U,(0,o.Wm)(Z,{name:"course_work_ocenka",type:"number",class:(0,t.C_)(["form-control",{"is-invalid":s.course_work_ocenka}])},null,8,["class"]),(0,o.Wm)(z,{name:"course_work_ocenka",class:"error-feedback"})]),(0,o._)("div",E,[(0,o.Wm)(H,{to:"/courseworks",class:"btn btn-secondary ml-2 float-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Отмена")])),_:1}),(0,o._)("button",{class:"btn btn-primary btn-block float-end",disabled:c.loading},[(0,o.wy)((0,o._)("span",T,null,512),[[r.F8,c.loading]]),(0,o.Uk)(" Добавить работу ")],8,S)])])])),_:1},8,["onSubmit","validation-schema"]),c.message?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,t.C_)(["alert",c.successful?"alert-success":"alert-danger"])},(0,t.zw)(c.message),3)):(0,o.kq)("",!0)]))])}var Z=s(5708),z=s(7629),I=s(5124),H=s(4677),K={setup(){const e=(0,H.pm)();return{toast:e}},name:"AddGroup",components:{Form:Z.l0,Field:Z.gN,ErrorMessage:Z.Bc},data(){const e=z.Ry().shape({});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,profiles:null,directions:null,teachers:null,students:null,departaments:null,myValue:""}},computed:{},mounted(){},methods:{async addCw(e){try{this.loading=!0;const a=await I.Z.addCw(e.course_work_theme,e.course_work_teacher_id,e.course_work_student_id,e.course_work_kafedra,e.course_work_vipysk,e.course_work_year,e.course_work_ocenka);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили работу!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления работы"),console.error("Error:",a)}},async loadTeachersData(){try{const e=await I.Z.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadStudentsData(){try{const e=await I.Z.getStudentsAsIdText();this.students=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadDepartamentsData(){try{const e=await I.Z.getDepartamentsAsIdText();this.departaments=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadTeachersData(),this.loadStudentsData(),this.loadDepartamentsData()}},L=s(89);const Y=(0,L.Z)(K,[["render",F],["__scopeId","data-v-1698d192"]]);var j=Y}}]);
//# sourceMappingURL=114.736db06c.js.map