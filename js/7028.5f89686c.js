"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[7028],{7028:function(e,t,i){i.r(t),i.d(t,{default:function(){return F}});var a=i(3396),o=i(7139),n=i(9242);const d=e=>((0,a.dD)("data-v-c74b70a0"),e=e(),(0,a.Cn)(),e),s={class:"col-md-12 list"},r={key:0},l={class:"form-group d-inline-flex align-items-center col-5 mb-2"},c=d((()=>(0,a._)("label",{for:"dir_name"},"Название направления",-1))),u={class:"form-group d-inline-flex align-items-center col-5 mb-2"},m=d((()=>(0,a._)("label",{for:"dir_code"},"Код направления",-1))),_={class:"form-group mt-3"},b=["disabled"],p={class:"spinner-border spinner-border-sm"},h={class:"form-group float-end"},v={key:1},f=(0,a.uE)('<div class="form-group" data-v-c74b70a0><label class="form-control skeleton-text skeleton-animate" data-v-c74b70a0></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c74b70a0></div><div class="form-group" data-v-c74b70a0><label class="form-control skeleton-text skeleton-animate" data-v-c74b70a0></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c74b70a0></div>',2),g=[f];function D(e,t,i,d,f,D){const k=(0,a.up)("Field"),y=(0,a.up)("ErrorMessage"),w=(0,a.up)("router-link"),x=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)("div",s,[f.direction?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(x,{onSubmit:D.updateDirection,"validation-schema":f.schema},{default:(0,a.w5)((({errors:e})=>[(0,a._)("div",null,[(0,a._)("div",l,[c,(0,a.Wm)(k,{name:"dir_name",type:"text",value:"",class:(0,o.C_)(["form-control",{"is-invalid":e.dir_name}]),modelValue:f.editedDirection.dir_name,"onUpdate:modelValue":t[0]||(t[0]=e=>f.editedDirection.dir_name=e)},null,8,["class","modelValue"]),(0,a.Wm)(y,{name:"dir_name",class:"error-feedback"})]),(0,a._)("div",u,[m,(0,a.Wm)(k,{name:"dir_code",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.dir_code}]),value:"",modelValue:f.editedDirection.dir_code,"onUpdate:modelValue":t[1]||(t[1]=e=>f.editedDirection.dir_code=e)},null,8,["class","modelValue"]),(0,a.Wm)(y,{name:"dir_code",class:"error-feedback"})]),(0,a._)("div",_,[(0,a._)("button",{class:"btn btn-primary btn-block float-end",disabled:f.loading},[(0,a.wy)((0,a._)("span",p,null,512),[[n.F8,f.loading]]),(0,a.Uk)(" Обновить направление ")],8,b),(0,a._)("div",h,[(0,a._)("button",{type:"button",class:"btn btn-danger float-end",onClick:t[2]||(t[2]=(...e)=>D.deleteDirection&&D.deleteDirection(...e))}," Удалить направление ")]),(0,a.Wm)(w,{to:"/directions",class:"btn btn-secondary ml-2 float-start"},{default:(0,a.w5)((()=>[(0,a.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,a.wg)(),(0,a.iD)("div",v,g)),e.message?((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,o.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,o.zw)(e.message),3)):(0,a.kq)("",!0)])}i(7658);var k=i(5708),y=i(7629),w=i(5124),x=i(4677),C={setup(){const e=(0,x.pm)();return{toast:e}},components:{Form:k.l0,Field:k.gN,ErrorMessage:k.Bc},data(){const e=y.Ry().shape({});return{schema:e,loading:!1,direction:null,editedDirection:null,groups:null}},methods:{async deleteDirection(){try{this.loading=!0;const e=await w.Z.deleteDirectionById(this.direction.dir_id);e.data,this.direction={...this.editedStudent},this.loading=!1,this.toast.success("Успешно удалили!"),this.$router.push("/directions")}catch(e){console.error("Ошибка загрузки данных",e)}},async loadDirectionDetail(){const e=this.$route.params.directionId;try{const t=await w.Z.getDirectionById(e);this.direction=t.data,this.editedDirection={...t.data}}catch(t){console.error("Error:",t)}},async updateDirection(){try{this.loading=!0;const e=await w.Z.updateDirectionById(this.direction.dir_id,this.editedDirection.dir_name,this.editedDirection.dir_code);e.data,this.student={...this.editedStudent},this.loading=!1,this.toast.success("Успешно обновили направление!")}catch(e){console.error("Ошибка:",e)}}},created(){this.loadDirectionDetail()}},V=i(89);const W=(0,V.Z)(C,[["render",D],["__scopeId","data-v-c74b70a0"]]);var F=W}}]);
//# sourceMappingURL=7028.5f89686c.js.map