"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[262],{1262:function(e,a,l){l.r(a),l.d(a,{default:function(){return fe}});var t=l(3396),o=l(7139),s=l(9242);const n=e=>((0,t.dD)("data-v-4bce7fa3"),e=e(),(0,t.Cn)(),e),r={class:"list"},i={key:0},c=(0,t.uE)('<div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div><div class="form-group" data-v-4bce7fa3><label class="form-control skeleton-text skeleton-animate" data-v-4bce7fa3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-4bce7fa3></div>',19),m=[c],d={key:1,class:"col-md-12"},f={class:"form-group d-inline-flex align-items-center col-12 mb-2"},u=n((()=>(0,t._)("label",{for:"last_name"},"Фамилия:",-1))),b={class:"form-group d-inline-flex align-items-center col-12 mb-2"},p=n((()=>(0,t._)("label",{for:"first_name"},"Имя:",-1))),_={class:"form-group d-inline-flex align-items-center col-12 mb-2"},v=n((()=>(0,t._)("label",{for:"patronymic"},"Отчество:",-1))),k={class:"form-group d-inline-flex align-items-center mb-2"},g=n((()=>(0,t._)("label",{for:"gender"},"Пол:",-1))),x=n((()=>(0,t._)("br",null,null,-1))),y=n((()=>(0,t._)("br",null,null,-1))),h={class:"form-group d-inline-flex align-items-center mb-2"},W=n((()=>(0,t._)("label",{for:"date_of_birth"},"Дата рождения:",-1))),C={class:"form-group d-inline-flex align-items-center mb-2 col-6"},w=n((()=>(0,t._)("label",{for:"passport_series_and_number"},"Серия и номер паспорта:",-1))),N={class:"form-group d-inline-flex align-items-center mb-2 col-5"},S=n((()=>(0,t._)("label",{for:"place_of_birth"},"Страна рождения:",-1))),q={class:"form-group d-inline-flex align-items-center mb-2"},Z=n((()=>(0,t._)("label",{for:"INN"},"ИНН:",-1))),I={class:"form-group d-inline-flex align-items-center mb-2"},V=n((()=>(0,t._)("label",{for:"SNILS"},"СНИЛС:",-1))),D={class:"form-group d-inline-flex align-items-center mb-2 col-5"},L=n((()=>(0,t._)("label",{for:"email"},"Email:",-1))),z={class:"form-group d-inline-flex align-items-center mb-2 col-5"},E=n((()=>(0,t._)("label",{for:"student_login"},"Логин студента:",-1))),U={class:"form-group d-inline-flex align-items-center mb-2 col-5"},F=n((()=>(0,t._)("label",{for:"enrollment_order"},"Приказ о зачислении:",-1))),A={class:"form-group d-inline-flex align-items-center mb-2"},G=n((()=>(0,t._)("label",{for:"enrolled_date"},"Дата зачисления:",-1))),T={class:"d-flex flex-wrap"},j={class:"form-group d-inline-flex align-items-center mb-2"},M=n((()=>(0,t._)("label",{for:"group_id"},"Группа:",-1))),$=["value"],B={class:"form-group d-inline-flex align-items-center float-none mb-2 col-3"},H=n((()=>(0,t._)("label",{for:"subgroup"},"Подгруппа:",-1))),K=n((()=>(0,t._)("option",{value:"Нет"},"Нет",-1))),R=n((()=>(0,t._)("option",{value:"1"},"1",-1))),Y=n((()=>(0,t._)("option",{value:"2"},"2",-1))),J={class:"form-group d-inline-flex align-items-center float-none mb-2 col-5"},O=n((()=>(0,t._)("label",{for:"zachetka_number"},"Номер зачётки:",-1))),P={class:"form-group d-inline-flex align-items-center float-none mb-2 col-6"},Q=n((()=>(0,t._)("label",{for:"phonenumber"},"Номер телефона:",-1))),X={class:"form-group d-inline-flex align-items-center float-none mb-2 col-8"},ee=n((()=>(0,t._)("label",{for:"phonenumber_rod"},"Номер телефона родителей:",-1))),ae={class:"form-group mt-3"},le=["disabled"],te={class:"spinner-border spinner-border-sm"};function oe(e,a,l,n,c,oe){const se=(0,t.up)("Field"),ne=(0,t.up)("ErrorMessage"),re=(0,t.up)("Select2"),ie=(0,t.up)("router-link"),ce=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",r,[c.dataLoading?((0,t.wg)(),(0,t.iD)("div",i,m)):((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(ce,{onSubmit:oe.addStudent,"validation-schema":c.schema},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",null,[(0,t._)("div",f,[u,(0,t.Wm)(se,{name:"last_name",type:"text",value:"",class:(0,o.C_)(["form-control",{"is-invalid":e.last_name}])},null,8,["class"]),(0,t.Wm)(ne,{name:"last_name",class:"error-feedback"})]),(0,t._)("div",b,[p,(0,t.Wm)(se,{name:"first_name",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.first_name}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"first_name",class:"error-feedback"})]),(0,t._)("div",_,[v,(0,t.Wm)(se,{name:"patronymic",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.patronymic}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"patronymic",class:"error-feedback"})]),(0,t._)("div",k,[g,x,(0,t.Wm)(se,{name:"gender",type:"radio",value:"m",class:(0,o.C_)(["form-check-input",{"is-invalid":e.gender}])},null,8,["class"]),(0,t.Uk)("М "),(0,t.Wm)(se,{name:"gender",type:"radio",value:"f",class:(0,o.C_)(["form-check-input",{"is-invalid":e.gender}])},null,8,["class"]),(0,t.Uk)("Ж "),y,(0,t.Wm)(ne,{name:"gender",class:"error-feedback"})]),(0,t._)("div",h,[W,(0,t.Wm)(se,{name:"date_of_birth",type:"date",class:(0,o.C_)(["form-control",{"is-invalid":e.date}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"date_of_birth",class:"error-feedback"})]),(0,t._)("div",C,[w,(0,t.Wm)(se,{name:"passport_series_and_number",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.passport_series_and_number}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"passport_series_and_number",class:"error-feedback"})]),(0,t._)("div",N,[S,(0,t.Wm)(se,{name:"place_of_birth",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.place_of_birth}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"place_of_birth",class:"error-feedback"})]),(0,t._)("div",q,[Z,(0,t.Wm)(se,{name:"INN",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.INN}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"INN",class:"error-feedback"})]),(0,t._)("div",I,[V,(0,t.Wm)(se,{name:"SNILS",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.SNILS}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"SNILS",class:"error-feedback"})]),(0,t._)("div",D,[L,(0,t.Wm)(se,{name:"email",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.email}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"email",class:"error-feedback"})]),(0,t._)("div",z,[E,(0,t.Wm)(se,{name:"student_login",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.student_login}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"student_login",class:"error-feedback"})]),(0,t._)("div",U,[F,(0,t.Wm)(se,{name:"enrollment_order",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.enrollment_order}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"enrollment_order",class:"error-feedback"})]),(0,t._)("div",A,[G,(0,t.Wm)(se,{name:"enrolled_date",type:"date",class:(0,o.C_)(["form-control",{"is-invalid":e.enrolled_date}]),value:""},null,8,["class"]),(0,t.Wm)(ne,{name:"enrolled_date",class:"error-feedback"})]),(0,t._)("div",T,[(0,t._)("div",j,[M,(0,t.Wm)(re,{class:(0,o.C_)({"form-control is-invalid":e.group_id}),modelValue:c.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>c.myValue=e),options:c.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.Wm)(se,{name:"group_id",as:"select",modelValue:c.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>c.myValue=e),hidden:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.groups,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,$)))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(ne,{name:"group_id",class:"error-feedback"})]),(0,t._)("div",B,[H,(0,t.Wm)(se,{name:"subgroup",as:"select",class:"form-select"},{default:(0,t.w5)((()=>[K,R,Y])),_:1}),(0,t.Wm)(ne,{name:"subgroup",class:"error-feedback"})]),(0,t._)("div",J,[O,(0,t.Wm)(se,{name:"zachetka_number",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.zachetka_number}])},null,8,["class"]),(0,t.Wm)(ne,{name:"zachetka_number",class:"error-feedback"})]),(0,t._)("div",P,[Q,(0,t.Wm)(se,{name:"phonenumber",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.phonenumber}])},null,8,["class"]),(0,t.Wm)(ne,{name:"phonenumber",class:"error-feedback"})]),(0,t._)("div",X,[ee,(0,t.Wm)(se,{name:"phonenumber_rod",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.phonenumber_rod}])},null,8,["class"]),(0,t.Wm)(ne,{name:"phonenumber_rod",class:"error-feedback"})])]),(0,t._)("div",ae,[(0,t.Wm)(ie,{to:"/students",class:"btn btn-secondary ml-2 float-start"},{default:(0,t.w5)((()=>[(0,t.Uk)("Отмена")])),_:1}),(0,t._)("button",{class:"btn btn-primary btn-block float-end",disabled:c.loading},[(0,t.wy)((0,t._)("span",te,null,512),[[s.F8,c.loading]]),(0,t.Uk)(" Добавить студента ")],8,le)])])])),_:1},8,["onSubmit","validation-schema"]),c.message?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,o.C_)(["alert",c.successful?"alert-success":"alert-danger"])},(0,o.zw)(c.message),3)):(0,t.kq)("",!0)]))])}var se=l(5708),ne=l(7629),re=l(5124),ie=l(4677),ce={setup(){const e=(0,ie.pm)();return{toast:e}},name:"AddStudent",components:{Form:se.l0,Field:se.gN,ErrorMessage:se.Bc},data(){const e=ne.Ry().shape({last_name:ne.Z_().required("Требуется фамилия"),first_name:ne.Z_().required("Требуется имя"),patronymic:ne.Z_().required("Требуется отчество"),gender:ne.Z_().required("Требуется указать пол"),date_of_birth:ne.hT().required("Требуется указать дату рождения"),passport_series_and_number:ne.Z_().required("Требуется серия и номер паспорта"),place_of_birth:ne.Z_().required("Требуется указать место рождения"),INN:ne.Z_().required("Требуется указать ИНН").matches(/^\d{12}$/,"Некорректный ИНН"),SNILS:ne.Z_().required("Требуется указать СНИЛС").matches(/^\d{11}$/,"Некорректный СНИЛС"),email:ne.Z_().required("Требуется электронная почта").email("Некорректный адрес электронной почты"),student_login:ne.Z_().required("Требуется указать логин студента"),enrollment_order:ne.Z_().required("Требуется указать приказ о зачислении"),enrolled_date:ne.hT().required("Требуется указать дату зачисления"),group_id:ne.Z_().required("Требуется указать группу")});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,courses:[{id:"Нет",text:"Нет"},{id:"1",text:"1"},{id:"2",text:"2"}],myValue:""}},computed:{},mounted(){},methods:{async addStudent(e){try{this.loading=!0;const a=await re.Z.addStudent(e.last_name,e.first_name,e.patronymic,e.gender,e.date_of_birth,e.passport_series_and_number,e.INN,e.SNILS,e.place_of_birth,e.email,e.student_login,e.enrollment_order,e.enrolled_date,e.group_id,e.subgroup,e.zachetka_number,e.phonenumber,e.phonenumber_rod);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили студента!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления студента"),console.error("Error updating student details:",a)}},async loadGroupsData(){try{const e=await re.Z.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading students data:",e)}}},created(){this.loadGroupsData()}},me=l(89);const de=(0,me.Z)(ce,[["render",oe],["__scopeId","data-v-4bce7fa3"]]);var fe=de}}]);
//# sourceMappingURL=262.a921d5d8.js.map