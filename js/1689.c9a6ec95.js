"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[1689],{1689:function(e,a,r){r.r(a),r.d(a,{default:function(){return I}});var t=r(3396),o=r(7139),d=r(9242);const s=e=>((0,t.dD)("data-v-447b04ce"),e=e(),(0,t.Cn)(),e),l={class:"col-md-12 list"},n={key:0},m={class:"form-group"},i=s((()=>(0,t._)("label",{for:"required_amount"},"Стоимость обучения",-1))),u={class:"form-group"},c=s((()=>(0,t._)("label",{for:"program_name"},"Название программы",-1))),g={class:"form-group"},_=s((()=>(0,t._)("label",{for:"hours"},"Часы",-1))),p={class:"form-group"},v=s((()=>(0,t._)("label",{for:"start_date"},"Начало обучения",-1))),b={class:"form-group"},f=s((()=>(0,t._)("label",{for:"end_date"},"Конец обучния",-1))),h={class:"form-group mt-3"},k=["disabled"],P={class:"spinner-border spinner-border-sm"},y={key:1},V=(0,t.uE)('<div class="form-group" data-v-447b04ce><label class="form-control skeleton-text skeleton-animate" data-v-447b04ce></label><input type="text" class="form-control skeleton skeleton-animate" data-v-447b04ce></div><div class="form-group" data-v-447b04ce><label class="form-control skeleton-text skeleton-animate" data-v-447b04ce></label><input type="text" class="form-control skeleton skeleton-animate" data-v-447b04ce></div>',2),w=[V];function W(e,a,r,s,V,W){const C=(0,t.up)("Field"),q=(0,t.up)("ErrorMessage"),D=(0,t.up)("router-link"),U=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",l,[V.program?((0,t.wg)(),(0,t.iD)("div",n,[(0,t.Wm)(U,{onSubmit:W.updateProgram,"validation-schema":V.schema},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",null,[(0,t._)("div",m,[i,(0,t.Wm)(C,{name:"required_amount",type:"text",value:"",class:(0,o.C_)(["form-control",{"is-invalid":e.required_amount}]),modelValue:V.editedProgram.required_amount,"onUpdate:modelValue":a[0]||(a[0]=e=>V.editedProgram.required_amount=e)},null,8,["class","modelValue"]),(0,t.Wm)(q,{name:"required_amount",class:"error-feedback"})]),(0,t._)("div",u,[c,(0,t.Wm)(C,{name:"program_name",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":e.program_name}]),value:"",modelValue:V.editedProgram.program_name,"onUpdate:modelValue":a[1]||(a[1]=e=>V.editedProgram.program_name=e)},null,8,["class","modelValue"]),(0,t.Wm)(q,{name:"program_name",class:"error-feedback"})]),(0,t._)("div",g,[_,(0,t.Wm)(C,{name:"hours",type:"number",class:(0,o.C_)(["form-control",{"is-invalid":e.dir_code}]),value:"",modelValue:V.editedProgram.hours,"onUpdate:modelValue":a[2]||(a[2]=e=>V.editedProgram.hours=e)},null,8,["class","modelValue"]),(0,t.Wm)(q,{name:"hours",class:"error-feedback"})]),(0,t._)("div",p,[v,(0,t.Wm)(C,{name:"start_date",type:"date",class:(0,o.C_)(["form-control",{"is-invalid":e.start_date}]),value:"",modelValue:V.editedProgram.start_date,"onUpdate:modelValue":a[3]||(a[3]=e=>V.editedProgram.start_date=e)},null,8,["class","modelValue"]),(0,t.Wm)(q,{name:"start_date",class:"error-feedback"})]),(0,t._)("div",b,[f,(0,t.Wm)(C,{name:"end_date",type:"date",class:(0,o.C_)(["form-control",{"is-invalid":e.end_date}]),value:"",modelValue:V.editedProgram.end_date,"onUpdate:modelValue":a[4]||(a[4]=e=>V.editedProgram.end_date=e)},null,8,["class","modelValue"]),(0,t.Wm)(q,{name:"end_date",class:"error-feedback"})]),(0,t._)("div",h,[(0,t._)("button",{class:"btn btn-primary btn-block float-start",disabled:V.loading},[(0,t.wy)((0,t._)("span",P,null,512),[[d.F8,V.loading]]),(0,t.Uk)(" Обновить направление ")],8,k),(0,t.Wm)(D,{to:"/programs",class:"btn btn-secondary ml-2 float-end"},{default:(0,t.w5)((()=>[(0,t.Uk)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,t.wg)(),(0,t.iD)("div",y,w)),e.message?((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,o.C_)(["alert",e.successful?"alert-success":"alert-danger"])},(0,o.zw)(e.message),3)):(0,t.kq)("",!0)])}var C=r(5708),q=r(7629),D=r(5124),U=r(4677),x={setup(){const e=(0,U.pm)();return{toast:e}},components:{Form:C.l0,Field:C.gN,ErrorMessage:C.Bc},data(){const e=q.Ry().shape({});return{schema:e,loading:!1,program:null,editedProgram:null,groups:null}},methods:{async loadProgramDetail(){const e=this.$route.params.programId;try{const a=await D.Z.getProgramById(e);this.program=a.data,this.editedProgram={...a.data}}catch(a){console.error("Error:",a)}},async updateProgram(){try{this.loading=!0;const e=await D.Z.updateProgramById(this.editedProgram.id,this.editedProgram.required_amount,this.editedProgram.program_name,this.editedProgram.hours,this.editedProgram.start_date,this.editedProgram.end_date);e.data,this.student={...this.editedStudent},this.loading=!1,this.toast.success("Успешно обновили направление!")}catch(e){console.error("Ошибка:",e)}}},created(){this.loadProgramDetail()}},F=r(89);const E=(0,F.Z)(x,[["render",W],["__scopeId","data-v-447b04ce"]]);var I=E}}]);
//# sourceMappingURL=1689.c9a6ec95.js.map