"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[642],{1642:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var s=t(3396),o=t(7139),l=t(9242);const d=e=>((0,s.dD)("data-v-05ae9ee3"),e=e(),(0,s.Cn)(),e),i={class:"list"},r={key:0},n=(0,s.uE)('<div class="form-group" data-v-05ae9ee3><label class="form-control skeleton-text skeleton-animate" data-v-05ae9ee3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-05ae9ee3></div><div class="form-group" data-v-05ae9ee3><label class="form-control skeleton-text skeleton-animate" data-v-05ae9ee3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-05ae9ee3></div><div class="form-group" data-v-05ae9ee3><label class="form-control skeleton-text skeleton-animate" data-v-05ae9ee3></label><input type="text" class="form-control skeleton skeleton-animate" data-v-05ae9ee3></div>',3),u=[n],c={class:"col-md-12 list"},m={class:"form-group d-inline-flex align-items-center mb-2"},p=d((()=>(0,s._)("label",{for:"group_id"},"Группа:",-1))),_=["value"],h={class:"form-group d-inline-flex align-items-center float-none mb-2 col-3"},g=d((()=>(0,s._)("label",{for:"subgroup"},"Подгруппа:",-1))),b={class:"form-group d-inline-flex align-items-center col-5 mb-2"},f=d((()=>(0,s._)("label",{for:"audit_day_id"},"День недели",-1))),v=["value"],y={class:"form-group d-inline-flex align-items-center col-5 mb-2"},w=d((()=>(0,s._)("label",{for:"audit_subject_id"},"Предмет",-1))),k=["value"],V={class:"form-group d-inline-flex align-items-center col-5 mb-2"},D=d((()=>(0,s._)("label",{for:"audit_teacher_id"},"Преподаватель",-1))),x=["value"],A={class:"form-group d-inline-flex align-items-center col-5 mb-2"},W=d((()=>(0,s._)("label",{for:"audit_para_id"},"Пара",-1))),j={id:"numberSelect"},C=["value"],I={class:"form-group d-inline-flex align-items-center col-10 mb-2"},U=d((()=>(0,s._)("label",{for:"audit_subject_id"},"Аудитория",-1))),E=["value"],S={class:"form-group mt-3"},L=["disabled"],T={class:"spinner-border spinner-border-sm"};function z(e,a,t,d,n,z){const Z=(0,s.up)("Select2"),H=(0,s.up)("Field"),K=(0,s.up)("ErrorMessage"),Y=(0,s.up)("router-link"),F=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",i,[e.dataLoading?((0,s.wg)(),(0,s.iD)("div",r,u)):(0,s.kq)("",!0),(0,s._)("div",c,[(0,s.Wm)(F,{onSubmit:z.saveSchedule,"validation-schema":n.schema},{default:(0,s.w5)((({errors:t})=>[(0,s._)("div",null,[(0,s._)("div",m,[p,(0,s.Wm)(Z,{class:(0,o.C_)({"form-control is-invalid":t.group_id}),modelValue:e.myValue,"onUpdate:modelValue":a[0]||(a[0]=a=>e.myValue=a),options:n.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.Wm)(H,{name:"group_id",as:"select",modelValue:e.myValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.myValue=a),hidden:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.groups,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,_)))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(K,{name:"group_id",class:"error-feedback"})]),(0,s._)("div",h,[g,(0,s.Wm)(H,{name:"subgroup",type:"text",class:(0,o.C_)(["form-control",{"is-invalid":t.subgroup}])},null,8,["class"]),(0,s.Wm)(K,{name:"subgroup",class:"error-feedback"})]),(0,s._)("div",b,[f,(0,s.Wm)(Z,{class:(0,o.C_)(["col-5",{"form-control is-invalid":t.day_id}]),modelValue:e.day_id,"onUpdate:modelValue":a[2]||(a[2]=a=>e.day_id=a),options:n.days,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.Wm)(H,{name:"audit_day_id",as:"select",modelValue:e.day_id,"onUpdate:modelValue":a[3]||(a[3]=a=>e.day_id=a),hidden:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.days,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,v)))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(K,{name:"audit_day_id",class:"error-feedback"})]),(0,s._)("div",y,[w,(0,s.Wm)(Z,{class:(0,o.C_)(["col-10",{"form-control is-invalid":t.subject_id}]),modelValue:e.subject_id,"onUpdate:modelValue":a[4]||(a[4]=a=>e.subject_id=a),options:n.subjects,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.Wm)(H,{name:"audit_subject_id",as:"select",modelValue:e.subject_id,"onUpdate:modelValue":a[5]||(a[5]=a=>e.subject_id=a),hidden:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.subjects,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,k)))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(K,{name:"audit_prof_id",class:"error-feedback"})]),(0,s._)("div",V,[D,(0,s.Wm)(Z,{class:(0,o.C_)(["col-10",{"form-control is-invalid":t.teacher_id}]),modelValue:e.teacher_id,"onUpdate:modelValue":a[6]||(a[6]=a=>e.teacher_id=a),options:n.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.Wm)(H,{name:"audit_teacher_id",as:"select",modelValue:e.teacher_id,"onUpdate:modelValue":a[7]||(a[7]=a=>e.teacher_id=a),hidden:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.teachers,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,x)))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(K,{name:"audit_prof_id",class:"error-feedback"})]),(0,s._)("div",A,[W,(0,s._)("select",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.options,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.value,key:e.value},(0,o.zw)(e.label),9,C)))),128))])]),(0,s._)("div",I,[U,(0,s.Wm)(Z,{class:(0,o.C_)(["col-5",{"form-control is-invalid":t.aud_id}]),modelValue:e.aud_id,"onUpdate:modelValue":a[8]||(a[8]=a=>e.aud_id=a),options:n.auditorium,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.Wm)(H,{name:"audit_id",as:"select",modelValue:e.aud_id,"onUpdate:modelValue":a[9]||(a[9]=a=>e.aud_id=a),hidden:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.auditorium,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,E)))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(K,{name:"audit_aud_id",class:"error-feedback"})]),(0,s._)("div",S,[(0,s.Wm)(Y,{to:"/audits",class:"btn btn-secondary ml-2 float-start"},{default:(0,s.w5)((()=>[(0,s.Uk)("Отмена")])),_:1}),(0,s._)("button",{class:"btn btn-primary btn-block float-end",disabled:n.loading},[(0,s.wy)((0,s._)("span",T,null,512),[[l.F8,n.loading]]),(0,s.Uk)(" Добавить аудиторию ")],8,L)])])])),_:1},8,["onSubmit","validation-schema"])]),e.message?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,o.C_)(["alert",n.successful?"alert-success":"alert-danger"])},(0,o.zw)(e.message),3)):(0,s.kq)("",!0)])}t(7658);var Z=t(5708),H=t(7629),K=t(5124),Y=t(4677);document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("numberSelect");for(let a=1;a<=8;a++){const t=document.createElement("option");t.value=a,t.textContent=a,e.appendChild(t)}}));var F={setup(){const e=(0,Y.pm)();return{toast:e}},name:"AddAudit",components:{Form:Z.l0,Field:Z.gN,ErrorMessage:Z.Bc},data(){const e=H.Ry().shape({});return{schema:e,loading:!1,successful:!1,subjects:[],options:[],teachers:[],auditorium:[],groups:[],days:[]}},mounted(){for(let e=1;e<=8;e++)this.options.push({value:e,label:e})},methods:{async saveSchedule(){try{const e=parseInt(this.day_id),a=parseInt(this.subject_id),t=parseInt(this.aud_id),s=parseInt(this.teacher_id),o=parseInt(this.group_id),l=await K.Z.savesSchedule(e,a,t,s,o);l.data,this.loading=!1,this.successful=!0,this.toast.success("Сохранено!")}catch(e){this.toast.error("Ошибка добавления аудитории"),console.error("Ошибка загрузки данных:",e)}},async loadGroupsData(){try{const e=await K.Z.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading students data:",e)}},async loadDaysData(){try{const e=await K.Z.getDaysAsIdText();this.days=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadAuditData(){try{const e=await K.Z.getAuditAsIdText();this.auditorium=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadTeachersData(){try{const e=await K.Z.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadSubjectsData(){try{const e=await K.Z.getSubjectAsIdText();this.subjects=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadDaysData(),this.loadSubjectsData(),this.loadGroupsData(),this.loadAuditData(),this.loadTeachersData()}},G=t(89);const M=(0,G.Z)(F,[["render",z],["__scopeId","data-v-05ae9ee3"]]);var q=M}}]);
//# sourceMappingURL=642.7a67010f.js.map